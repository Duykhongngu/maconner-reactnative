(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["30511"],{537347:function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,i){function n(){a(l)&&l.a.parentNode&&i(l.g)}var l=e;t(e.b,n),t(e.c,n),a(e)}function r(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var o=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function h(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===s){if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1}return s}()){var g,m=new Promise(function(e,t){!function i(){(new Date).getTime()-p>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(h(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(i,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),m]).then(function(){clearTimeout(d),e(a)},t)}else g=function(){function s(){var t;(t=-1!=_&&-1!=f||-1!=_&&-1!=y||-1!=f&&-1!=y)&&((t=_!=f&&_!=y&&f!=y)||(null===o&&(o=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=o&&(_==x&&f==x&&y==x||_==v&&f==v&&y==v||_==b&&f==b&&y==b)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(d),e(a))}var u=new i(r),g=new i(r),m=new i(r),_=-1,f=-1,y=-1,x=-1,v=-1,b=-1,w=document.createElement("div");w.dir="ltr",n(u,h(a,"sans-serif")),n(g,h(a,"serif")),n(m,h(a,"monospace")),w.appendChild(u.a),w.appendChild(g.a),w.appendChild(m.a),document.body.appendChild(w),x=u.a.offsetWidth,v=g.a.offsetWidth,b=m.a.offsetWidth,function e(){if((new Date).getTime()-p>=c)w.parentNode&&w.parentNode.removeChild(w),t(Error(""+c+"ms timeout exceeded"));else{var i=document.hidden;(!0===i||void 0===i)&&(_=u.a.offsetWidth,f=g.a.offsetWidth,y=m.a.offsetWidth,s()),d=setTimeout(e,50)}}(),l(u,function(e){_=e,s()}),n(u,h(a,'"'+a.family+'",sans-serif')),l(g,function(e){f=e,s()}),n(g,h(a,'"'+a.family+'",serif')),l(m,function(e){y=e,s()}),n(m,h(a,'"'+a.family+'",monospace'))},document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),g()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),g())})})},e.exports=r}()},515369:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="510195e37611b9b69a16eccfeb13e9cf";let a=n},580441:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};n.hash="83e61e6fc89222c2a0b03276839f44a5";let a=n},264370:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="60493becbbe037be854a8cd1136fede6";let a=n},403369:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="08b89bb2190b936e38e11d4ce341058f";let a=n},609311:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};n.hash="89029511c11617e1150976d1002228db";let a=n},254267:function(e,t,i){"use strict";var n,a,l,r,o;i.r(t),i.d(t,{default:()=>d});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:r,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[l,n,a],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};s.hash="e126fc0a8b5540f962701fad164e178c";let d=s},11661:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="239c809acefcd1b75df8f18c8ffb91ff";let a=n},554519:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};n.hash="93be9368e70d087bc7ea24af201598f9";let a=n},977357:function(e,t,i){"use strict";var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:n,storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],type:"Pin",abstractKey:null};a.hash="8ed3b402f21aa883660db6ab28551997";let l=a},918186:function(e,t,i){"use strict";i.d(t,{Z:()=>a});var n=i(216975);function a({altText:e,autoAltText:t,i18n:i}){let a=e?(0,n.nk)(i.bt("Phần này chứa: {{ altText }}", "This contains: {{ altText }}", "web.altText", undefined, true),{altText:e}).join(""):"",l=t?(0,n.nk)(i.bt("Phần này có thể chứa: {{ autoAltText }}", "This may contain: {{ autoAltText }}", "web.altText", undefined, true),{autoAltText:t}).join(""):"";return a||l||""}},560433:function(e,t,i){"use strict";i.d(t,{Z:()=>r});var n=i(613567),a=i(774838),l=i(739405);function r({dangerouslySkipActivation:e}){let{isAuthenticated:t,userAgent:{browserName:i,browserVersion:r}}=(0,a.B)(),o=(0,l.HG)(),{checkExperiment:s}=(0,n.F)();return{isEnabled:"Chrome"===i&&Number(r.split(".")[0])>=135&&t&&o&&s("closeup_google_css_carousel_dweb",{dangerouslySkipActivation:e}).anyEnabled}}},753698:function(e,t,i){"use strict";i.d(t,{Z:()=>o});var n=i(883119),a=i(138596),l=i(11338),r=i(785893);function o({digitalMediaType:e,isMobile:t=!1,isViewedByOwnerEmployeeOrAgency:i=!1}){let o=(0,a.ZP)(),s={[l.s.TRAINED_ALGORITHMIC_MEDIA]:o.bt("Được sửa đổi bằng AI", "AI modified", "closeup.aIModifiedLabel.label", undefined, true),[l.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA]:o.bt("Được sửa đổi bằng AI", "AI modified", "closeup.aIModifiedLabel.label", undefined, true),[l.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA]:o.bt("Được sửa đổi bằng AI", "AI modified", "closeup.aIModifiedLabel.label", undefined, true)},d=()=>(0,r.jsx)(n.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"ai-generated-label",display:"flex",height:t?48:44,justifyContent:"center",paddingX:4,rounding:4,children:(0,r.jsx)(n.xv,{color:"light",size:"300",children:s[e]})});return i?(0,r.jsx)(n.u,{idealDirection:"up",text:o.bt("Nhãn này sẽ không xuất hiện trên Ghim ở trạng thái được quảng cáo. Quảng cáo trả phí của bạn sẽ bao gồm thông tin tiết lộ trên trang \"Tại sao tôi thấy quảng cáo này\".", "This label won’t appear on Pins in a promoted state. Your paid ads will include the disclosure on the \"Why am I seeing this ad\" page.", "AICloseupLabel.tooltip.text", undefined, true),children:d()}):d()}},65936:function(e,t,i){"use strict";i.d(t,{Z:()=>m});var n,a=i(667294);i(167912);var l=i(883119),r=i(788730),o=i(239321),s=i(907022),d=i(138596),c=i(613567),u=i(133546),h=i(767415),p=i(785893);let g=void 0!==n?n:n=i(403369);function m({clientTrackingParams:e,domain:t,link:i,pinKey:n,trafficSource:m,size:_="lg",viewType:f=3}){let y;let x=(0,d.ZP)(),[v,b]=(0,a.useState)(!1),w=(0,s.Z)(g,n),{checkExperiment:P}=(0,c.F)(),I=P("closeup_dweb_media_viewer_cta_copy").anyEnabled,k=P("closeup_dweb_clickthrough_copy").anyEnabled,{isCloseupMediaViewerOpen:S}=(0,u.x4)(),j=(0,a.useMemo)(()=>{let e=S&&I&&675===f,t=k&&3===f;return e||t},[I,k,S,f]),A=(0,a.useCallback)(()=>{(0,h.nP)(`web.closeup.media_viewer_stats.clickthrough.clicked_from.${675===f?"media_viewer":"closeup"}`)},[f]);return i.startsWith("https://i.pinimg.com")?(0,p.jsx)(a.Fragment,{}):(y=t?j?x.bt("Truy cập trang", "Visit site", "closeup.pinActionDropDown.visitSite", undefined, true):(0,r.ff)(t):x.bt("Tìm hiểu thêm", "Learn more", "closeup.image.domainLinkButton", undefined, true),(0,p.jsx)(l.iP,{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:(0,p.jsx)(o.Z,{clientTrackingParams:e,hovered:v,pinKey:w,trafficSource:m,viewType:f,children:(0,p.jsx)(l.zx,{accessibilityLabel:x.bt("Biểu tượng mở liên kết", "Open link icon", "closeup.image.domainLinkButtonIcon", undefined, true),color:"semiTransparentWhite",dataTestId:"visit-button",iconStart:"arrow-up-right",onClick:A,size:_,text:y})})}))}},515171:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(883119),a=i(785893);let l=({onClick:e,href:t,children:i,onNavigation:l})=>(0,a.jsx)(n.xu,{"data-test-id":"image-link",children:(0,a.jsx)(n.Tg,{href:t,onTap:({event:t,dangerouslyDisableOnNavigation:i})=>{i(),e(),l({event:t})},rel:"nofollow",children:i})})},578377:function(e,t,i){"use strict";i.d(t,{Z:()=>n});let n=3},103423:function(e,t,i){"use strict";i.d(t,{Z:()=>o}),i(167912);var n,a=i(928585),l=i(907022);let r=void 0!==n?n:n=i(11661);function o({carouselInfo:e,disablePinTagButton:t,domain:i,hasMetTrustAndSafetyCheck:n,isCollageEnabled:o,isEmployee:s,isHovered:d,isORBACProfileManager:c,isScenePin:u,navLink:h,pinKey:p,showProductDetailPage:g}){let m=(0,l.Z)(r,p),{sideBySideRedesignFastFollowsExpGroup:_}=(0,a.Z)(),f="enabled_persistent_cta"===_,{access:y,aggregatedPinData:x,storyPinDataId:v,isPromoted:b}=m,w=!!x?.isShopTheLook,P=u&&(d||f),I=!1,k=!1;(d||f)&&!P&&(I=!(k=!!h&&!o)&&!!i&&!!m.link&&!m.link.startsWith("https://i.pinimg.com")&&!(g&&e)&&!o),k=k&&!m?.isGoLinkless;let S=!v&&!!y&&y.includes("tag")&&!t&&!o||c||!1;return{showCarouselControls:!!e,showCloseupShopDomainLinkButton:P,showDebugSignalsFeedbackButton:!!s,showDomainLink:I,showDomainLinkButton:k,showFlashlightButton:n&&!c&&!b,showPinTagButton:S,surfaceType:function({isScenePin:e,isShopTheLook:t}){return t?"stl":e?"stela":"flashlight"}({isScenePin:u,isShopTheLook:w})}}},145687:function(e,t,i){"use strict";i.d(t,{Z:()=>c});var n=i(667294),a=i(883119),l=i(230201),r=i(465784),o=i(138596),s=i(59111),d=i(785893);function c({handlePause:e,handlePlay:t,musicAttributions:i,shouldMute:c,showEndCard:u}){let h=(0,o.ZP)(),{logContextEvent:p}=(0,l.v)(),[g,m]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{!u&&(i?.length||c)&&p({event_type:c?14600:14601,view_type:3,view_parameter:140})},[p,i,c,u]),u||!i?.length&&!c)return null;let _=()=>{t&&t(),m(!1)},f="";if(i?.length===1){let{artist:e="",title:t=""}=i[0];f=e&&t?`${e} - ${t}`:""}let y=(i?.length||0)>=2?(0,d.jsx)(a.xu,{children:(0,d.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),m(!0)},children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:h.bt("Biểu tượng âm nhạc", "Music icon", "web.closeup.musicicon", undefined, true),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h.bt("Xem danh sách phát", "View the playlist", "web.closeup.musicAttibutionModal.entryPoint", undefined, true)})]})})}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(a.JO,{accessibilityLabel:h.bt("Biểu tượng âm nhạc", "Music icon", "web.pin.closeup.musicicon", undefined, true),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12}),(0,d.jsx)(a.xu,{marginStart:2,overflow:"hidden",children:(0,d.jsxs)("span",{className:f.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:f.length>=50?"260px":void 0},children:[(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:f}),(0,d.jsx)(s.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,d.jsxs)(n.Fragment,{children:[c?(0,d.jsx)(n.Fragment,{children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:h.bt("Biểu tượng âm nhạc", "Music icon", "web.closeup.musicMutedIcon", undefined, true),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h.bt("Âm thanh không có sẵn ở vị trí của bạn", "Audio not available in your location", "web.closeup.musicAttribution", undefined, true)})]})}):y,g&&(0,d.jsx)(r.ZP,{accessibilityModalLabel:h.bt("Nghệ sĩ và tiêu đề bài hát cho Ghim này", "Artist and song title for this Pin", "web.closeup.musicAttibutionModal", undefined, true),heading:(0,d.jsxs)(a.kC,{justifyContent:"between",children:[(0,d.jsx)(a.X6,{size:"600",children:h.bt("Danh sách phát cho video này", "Playlist for this video", "web.closeup.musicAttibutionModal.heading", undefined, true)}),(0,d.jsx)(a.hU,{accessibilityLabel:h.bt("Nút đóng phương thức", "Close modal button", "web.closeup.musicAttibutionModal.closeButton", undefined, true),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,d.jsx)(a.xu,{marginBottom:5,paddingX:5,paddingY:1,children:i?.map(({isrc:e,thumbnail_image_url:t,title:i,artist:n},l)=>d.jsxs(a.xu,{display:"flex",padding:1,children:[t&&d.jsx(a.xu,{color:"darkWash",height:60,rounding:7,width:60,children:d.jsx(a.Ee,{alt:h.bt("Hình ảnh nghệ thuật album", "Image of album art", "web.closeup.musicAttibutionModal.albumArt", undefined, true),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t})}),d.jsxs(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[d.jsx(a.xv,{weight:"bold",children:i??""}),d.jsx(a.xv,{size:"100",children:n??""})]})]},e||`${l}`))})})]})}},966695:function(e,t,i){"use strict";i.d(t,{Z:()=>ty});var n,a,l,r,o=i(883119),s=i(785893);let d=({children:e})=>(0,s.jsx)(o.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e});var c=i(249459),u=i(138596),h=i(774838),p=i(398542),g=i(15392),m=i(133546);let _=({embedUrl:e,isWideVideo:t,paddingBottom:i="50%",shouldPadImage:n})=>{let a=(0,u.ZP)(),l=(0,h.B)(),r=t?g.KP:g.Gg,_=e?.replace("http://","https://");_&&_.startsWith("https://www.youtube.com/embed/")&&(_=_.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));let f=(0,s.jsx)(m.ZP.Consumer,{children:({showCloseupContentRight:e,closeupWithinMasonryEnabled:d,peekCloseupEnabled:u,viewportSize:h})=>{let g=(0,s.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i,...p.Z({isSideBySide:!t,isPadded:n,isRTL:l.isRTL,closeupWithinMasonryEnabled:d,peekCloseupEnabled:u})?.borderStyle},children:(0,s.jsx)("iframe",{allowFullScreen:!0,id:c.ZP.VIDEO_IFRAME_ID,src:_,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:a.bt("Nội dung nhúng", "Embedded content", "Accessible content for the embedded content iframe", undefined, true)})});return e&&"lg"===h?(0,s.jsx)(o.xu,{marginBottom:6,marginEnd:t||n?0:6,width:r,children:g}):g}});return n?(0,s.jsx)(d,{children:f}):f};var f=i(667294);i(167912);var y=i(560433),x=i(429788),v=i(752031);i(422578);var b=i(70806),w=i(104999),P=i(907022);let I=void 0!==n?n:n=i(515369),k=({contextLogData:e,height:t,isFocused:i,videoList:n,onFocus:a,onUnfocus:l,pinId:r,pinKey:d,width:c})=>{let u=(0,w.Z)(),h=(0,P.Z)(I,d),{V_720P:p,V_HLSV4:g,V_HLSV3_MOBILE:m}=n,{height:_=1,width:y=1,thumbnail:x}=p||g||m||{},v=_/y,k=v;"number"==typeof t&&"number"==typeof c&&(k=t/c),(0,f.useEffect)(()=>{i?a&&a():l&&l()},[i,a,l]),(0,f.useEffect)(()=>{i&&u({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[i,e,u]);let S=(0,f.useCallback)(()=>{u({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,u]);return(0,s.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,s.jsx)(o.xu,{width:`${100*Math.min(k/v,1)}%`,children:(0,s.jsx)(b.Z,{contextLogData:e,customThumbnail:x,disabled:!i,loop:!0,muted:!1,onPlay:S,pinId:r,pinKey:h,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:p,hls:g,hlsv3:m}})})})};var S=i(230201),j=i(514837),A=i(763387),C=i.n(A),T=i(876594);let E=e=>`
  .carousel {
    anchor-name: --carousel;
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }
  }

  >* {
    container-type: scroll-state;
  }

  .scroll-markers {
    scroll-marker-group: after;

    &::scroll-marker-group {
      display: grid;
      grid-auto-columns: 1rem;
      grid-auto-flow: column;
      justify-content: center;
      margin-block-start: -1.25rem;
      position-anchor: --carousel;
      position-area: bottom;
      scroll-behavior: smooth;
      scroll-snap-type: y mandatory;
    }

    >li {
      &::scroll-marker {
        aspect-ratio: 1;
        border-radius: 1e5px;
        background: rgba(255, 255, 255, 0.6);
        content: ' ';
        width: 50%;
        box-shadow: 0 1px 0px rgba(0, 0, 0, 0.1);
        animation-timeline: view(x);
        interactivity: auto;
      }

      &::scroll-marker:target-current {
        background: ${T.vlc};
      }
    }
  }

  li {
    scroll-snap-align: center;
    scroll-snap-stop: always;
    width: 100%;
    height: 100%;
  }

  .scroll-buttons {
    &::scroll-button(right),
    &::scroll-button(left) {
      opacity: 0.8;
      pointer-events: auto;
      transition: opacity 0.3s ease-in-out;
      position: absolute;
      position-anchor: --carousel;
      background-color: ${T.vlc};
      border: none;
      border-radius: ${e?"12px":"50%"};
      cursor: pointer;
      display: inline-block;
      height: 36px;
      line-height: 0;
      vertical-align: middle;
      width: 36px;
    }

    &::scroll-button(right) {
      right: .75rem;
      position-area: center span-inline-start;
      content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    }

    &::scroll-button(left) {
      left: .75rem;
      position-area: center span-inline-end;
      content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    }

    &::scroll-button(*):disabled {
      opacity: 0%;
      cursor: not-allowed;
      interactivity: inert;
    }

    &::scroll-button(*):active {
      transform: scale(0.90);
    }

    &::scroll-button(*):is(:hover, :focus-visible){
      background-color: ${T.xPx};
      opacity: 1;
    }
  }
`;var L=i(306902),Z=i(59111),z=i(767415);let M=function({items:e,onIndexChange:t,renderItem:i,selectedIndex:n,showMarkers:a,showNavigationButtons:l}){let[r,o]=(0,f.useState)(-1),d=(0,f.useRef)(null),c=(0,L.Z)();(0,f.useEffect)(()=>{let t=d.current;t&&e.length&&void 0!==n&&n!==r&&((e=-1)=>{let i=Array.from(t.children)[e];i&&((0,z.nP)("closeup.dweb.css_carousel.enabled.thumbnail_index_change",{sampleRate:1}),i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))})(n)},[r,e.length,n]);let u=(0,f.useCallback)(e=>{let i=d.current,n=e.snapTargetBlock||e.snapTargetInline;if(i&&n){let e=Array.from(i.children).indexOf(n);-1!==e&&e!==r&&((0,z.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),o(e),t?.(e))}},[d,r,t,o]);(0,f.useEffect)(()=>{let e=d.current;return e&&e?.addEventListener("scrollsnapchanging",u),()=>{e&&e?.removeEventListener("scrollsnapchanging",u)}},[r,u,t]);let h=(0,f.useCallback)(e=>()=>o(e),[]),p=()=>o(-1);return(0,s.jsxs)(f.Fragment,{children:[(0,s.jsx)(Z.Z,{unsafeCSS:E(c)}),(0,s.jsx)("ul",{ref:d,className:C()("carousel",{"scroll-markers":a,"scroll-buttons":l}),children:e.map((e,t)=>(0,s.jsx)("li",{children:i({item:e,index:t,isFocused:r===t,onFocus:h(t),onUnfocus:p})},e.id||t))})]})};var D=i(830031),R=i(23641),F=i(575647),B=i(74972),O=i(501755),V=i(200301),K=i(834182);let W=({fit:e,highResOnly:t,onError:i,onLoad:n,slot:a,slotIndex:l})=>{let r=(0,u.ZP)(),{details:d=""}=a,{url:c="",width:h=1,height:p=1}=(0,V.Z)(a.images)||{};return c&&(0,s.jsx)(o.Ee,{alt:(0,K.GH)(d,r,l),fit:e,naturalHeight:p??1,naturalWidth:h??1,onError:i,onLoad:n,src:c,srcSet:(0,K.gA)({slot:a,highResOnly:t})})},H=void 0!==a?a:a=i(580441);function N({displayHeight:e,displayWidth:t,pinKey:i}){let{logContextEvent:n}=(0,S.v)(),{closeupWithinMasonryEnabled:a,isCloseupMediaViewerOpen:l,showProductDetailPage:r,peekCloseupEnabled:d}=(0,m.x4)(),{pauseAutoplay:c,setCurrentVideo:u}=(0,B.I)(),{isEnabled:h}=(0,y.Z)({dangerouslySkipActivation:!1}),{carouselInfo:p,mainImage:g}=(0,v.r)(),{carouselData:_,handleCarouselSwipe:b}=p||{},{index:w=0}=_||{},{height:I,width:A}=g,C=(0,P.Z)(H,i),{entityId:T}=C,E=(0,f.useRef)(null),L=(0,F.Z)(C),Z=C.isEligibleForPdp?L():void 0,z=C.isEligibleForPdp?144:void 0,V=C.isEligibleForPdp?3:void 0,K=(0,D.E)(),N=(0,f.useCallback)(e=>{e>=1&&((0,R.Nx)("image"),K&&K.markConstraintComplete("image"))},[K]),G=(0,f.useMemo)(()=>({viewParameter:r?144:156,view:3,component:r?14012:179,objectId:T}),[T,r]),U=(0,f.useCallback)(()=>{u({pinId:T,isPromoted:!1})},[u,T]),$=(0,f.useCallback)(()=>{c({pinId:T,isPromoted:!1})},[c,T]);(0,f.useEffect)(()=>{_?.carousel_slots?.find(e=>e.videos?.video_list)&&n({event_type:120,view_type:G.view,view_parameter:G.viewParameter,component:G.component,object_id_str:G.objectId})},[n,_?.carousel_slots,G]);let X=E.current&&d,Y=(0,f.useCallback)((i,n,r,d,c)=>{let u,h;return i.videos?.video_list?(u=(0,s.jsx)(k,{contextLogData:G,height:e,isFocused:r,onFocus:d,onUnfocus:c,pinId:T,pinKey:C,videoList:i.videos.video_list,width:t}),h=i.videos.id):(u=(0,s.jsx)(x.Z,{_enableViewTransitions:!0,suppressViewTransitionTags:l||n!==w,type:"image",children:(0,s.jsx)(W,{fit:"contain",onLoad:()=>N(n),slot:i,slotIndex:n})}),h=i.image_signature),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:a?A/I:void 0,justifySelf:"center"}},height:"100%",overflow:a?"hidden":void 0,rounding:a?4:void 0,width:a?void 0:"inherit",children:u},`${T}-${h||n}`)},[a,w,A,I,l,T,G,e,C,t,N]);return(0,s.jsx)(o.xu,{ref:E,height:"100%",width:"100%",children:h?(0,s.jsxs)(f.Fragment,{children:[(0,s.jsx)(j.Z,{carouselData:{..._,type:"canonical"},contextLogData:Z,height:e,id:T,impressionType:"Pin",index:w,slideWidth:t,view:V??3,viewParameter:z??156}),(0,s.jsx)(M,{items:_?.carousel_slots||[],onIndexChange:b,renderItem:({item:e,index:t,isFocused:i,onFocus:n,onUnfocus:a})=>Y(e,t,i,n,a),selectedIndex:w,showMarkers:!C.isEligibleForPdp,showNavigationButtons:!0})]}):(!d||X)&&(0,s.jsx)(O.Z,{containerRef:E.current,contextLogData:Z,height:e,id:T,index:w,responsiveSizing:a,slideWidth:t,view:V,viewParameter:z,children:(_?.carousel_slots||[]).map((e,t)=>Y(e,t,w===t,U,$))})})}var G=i(800691),U=i(788730),$=i(758724),X=i(433069),Y=i(835531);let J=({children:e,isCloseupMediaViewerEnabled:t,imageWithPreview:i})=>{let{closeupWithinMasonryEnabled:n,isCloseupRelatedPinsAboveTheFoldEnabled:a}=(0,m.x4)(),{fiftyPercentWidth:l}=(0,U.Re)(),{naturalHeight:r,naturalWidth:d}=i;return t||a?(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:n?(0,G.GJ)(d,r):void 0,contain:"strict",justifySelf:n?"center":void 0}},height:n?"round(100%, 2px)":"100%",maxWidth:l,overflow:n?"hidden":void 0,rounding:6,width:n?void 0:"100%",children:e}):(0,s.jsx)(o.zd,{rounding:6,wash:!0,children:e})};function q({borderStyle:e,dominantColor:t,imageWithPreview:i,fit:n}){let a=(0,D.E)(),l=(0,f.useCallback)(()=>{(0,R.Nx)("image"),a&&a.markConstraintComplete("image")},[a]),{isCloseupMediaViewerEnabled:r}=(0,$.Z)({isShufflePin:!1}),{isCloseupMediaViewerOpen:d,isCloseupRelatedPinsAboveTheFoldEnabled:c}=(0,m.x4)(),u=(0,X.b)(),h=""!==i.mainImage.src?(0,s.jsx)(o.xu,{"data-test-id":"closeup-image-main",height:"100%",width:"100%",children:(0,s.jsx)(Y.Z,{_enableViewTransitions:r||c,_fixCompletedOnLoad:!0,alt:i.mainImage.alt,borderStyle:e,color:t,fetchPriority:"high",fit:n,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,onLoad:l,src:i.mainImage.src,suppressViewTransitionTags:d})}):null;return(0,s.jsx)(J,{imageWithPreview:i,isCloseupMediaViewerEnabled:!!r,children:!u&&i.previewImage?.src?(0,s.jsx)(o.Ee,{alt:i.previewImage?.alt??"",color:t,fetchPriority:"high",fit:c?n:void 0,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,role:"img",src:i.previewImage.src,children:h}):h})}var Q=i(616550),ee=i(753698),et=i(578377),ei=i(667980),en=i(825605);let ea=112+et.Z;function el({digitalMediaType:e,shouldMoveAILabel:t,closeupWithinMasonryEnabled:i,isViewedByOwnerEmployeeOrAgency:n}){return(0,s.jsxs)(f.Fragment,{children:[(0,s.jsx)(o.xu,{height:`calc(100% - ${t?ea:56}px)`}),(0,s.jsx)(o.xu,{display:"flex",justifyContent:"start",maxWidth:"147px",paddingX:i?2:et.Z,children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(ee.Z,{digitalMediaType:e,isViewedByOwnerEmployeeOrAgency:n})})})})]})}var er=i(65936);let eo=({children:e,horizontalOffset:t=0,name:i,verticalOffset:n=0})=>{let a=new o.Ry(1),{closeupWithinMasonryEnabled:l}=(0,m.x4)(),{mainImage:r}=(0,v.r)(),{height:d,width:c}=r;return(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{aspectRatio:l?c/d:void 0,justifySelf:l?"center":void 0,pointerEvents:"none",padding:l?void 0:`${n}px ${t}px`}},"data-test-id":`closeup-image-overlay-layer-${i}`,left:!0,position:"absolute",right:!0,top:!0,zIndex:a,children:e})};var es=i(928585),ed=i(912046),ec=i(470205),eu=i(613567),eh=i(462867),ep=i(619784),eg=i(800640);let em=({carouselData:e,containerWidth:t,slotWidth:i})=>{let{index:n,carousel_slots:a}=e||{},l=Math.floor(i);return void 0===n||!a||n>=a.length-1?0:t-l};function e_({carouselData:e,children:t,disableAnimations:i=!1,displayWidth:n,hide:a}){let l=(0,f.useCallback)(()=>em({carouselData:e,containerWidth:n,slotWidth:n}),[e,n]),[r,d]=(0,f.useState)(l()),[c,u]=(0,f.useState)(i),[h,p]=(0,f.useState)(),g=(0,f.useCallback)(()=>{d(l())},[l]),m=()=>{u(!0)},_=()=>{u(!1)};return(0,f.useEffect)(()=>{let e=!0;return i||(_(),p(t=>(clearTimeout(t),setTimeout(()=>{e&&(g(),a||m())},500)))),()=>{e=!1}},[e?.index,i,g,a]),(0,f.useEffect)(()=>()=>clearTimeout(h),[h]),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:r,transition:i?void 0:"opacity 500ms, visibility 500ms ease-in-out",visibility:c?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:c?1:0,children:t})}var ef=i(206928),ey=i(546151);let ex=(0,f.lazy)(()=>i.e("12780").then(i.bind(i,47574))),ev=(0,f.lazy)(()=>i.e("12780").then(i.bind(i,620766))),eb=(0,f.lazy)(()=>i.e("74993").then(i.bind(i,313072))),ew=(0,f.lazy)(()=>i.e("81568").then(i.bind(i,364319))),eP=(0,f.lazy)(()=>i.e("43794").then(i.bind(i,215296))),eI=({animateShopButton:e,carouselInfo:t,domain:i,handleMediaButtonClick:n,isHovered:a,link:l,mediaViewerExpandButtonRef:r,navigationWrapper:d,onShopButtonAnimationComplete:c,pin:u,showCarouselControls:h,showCarouselEllipsis:p,showCloseupShopDomainLinkButton:g,showDebugSignalsFeedbackButton:_,showDomainLink:x,showDomainLinkButton:b,showFlashlightButton:P,showPinTagButton:I,surfaceType:k,trafficSource:S,maxCloseupImageWidth:j,shouldPadImage:A,verticalOffset:C,horizontalOffset:T})=>{let{clientTrackingParams:E,closeupWithinMasonryEnabled:L}=(0,m.x4)(),{isRelatedPins10PercentVisible:Z}=(0,eg.K4)(),{mainImage:z,mediaViewerImage:M}=(0,v.r)(),{checkExperiment:D}=(0,eu.F)(),R=(0,w.Z)(),F=(0,Q.k6)(),B=(0,eh.Z)(),{peekRedesignFastFollowsEnabled:O,sideBySideRedesignFastFollowsExpGroup:V}=(0,es.Z)(z),{isEnabled:K}=(0,y.Z)({dangerouslySkipActivation:!0}),{containerWidth:W}=(0,G.ZP)({carouselData:t?.carouselData,mainImage:z,maxCloseupImageWidth:j,shouldPadImage:A,pinKey:{type:"deprecated",data:u}}),H=4*et.Z,N=H+(Z?0:58),U=48+N+8,X=e=>O?{bottom:e,position:Z?"absolute":"sticky",transition:"position 0.1s ease"}:{bottom:e,position:"sticky"},{isCloseupMediaViewerEnabled:Y}=(0,$.Z)({isShufflePin:!!u?.shuffle}),J=D("web_pin_level_landing_feed",{dangerouslySkipActivation:!0}).anyEnabled,q=u&&u.origin_pinner&&B.isAuth&&B.id===u.origin_pinner.id||!u?.is_go_linkless,ee=(0,ey.zX)(u.digital_media_source_type)&&D("closeup_ctx_ai_metadata_label_web").anyEnabled,ea=(b||g)&&q,em=ea&&!l.startsWith("https://i.pinimg.com"),eI=!t||0===t.carouselData.index,{hasStelaObjectsAfterFilter:ek,url:eS}=(0,ed.Z)({pinKey:{type:"deprecated",data:u},surfaceType:"stl"===k?"stela":k,topLevelTrafficSource:S,skipStela:J}),ej=()=>{ek&&D("web_pin_level_landing_feed")};return(0,s.jsxs)(f.Fragment,{children:[x&&(0,s.jsx)(eo,{horizontalOffset:T,name:"domain-link",verticalOffset:C,children:(0,s.jsxs)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.xv,{color:"inverse",weight:"bold",children:i})})]})}),h&&t&&!K&&(0,s.jsxs)(eo,{horizontalOffset:T,name:"carousel-controls",verticalOffset:C,children:[(0,s.jsx)(ec.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ev,{backNode:(0,s.jsx)(ef.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:a}),carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,forwardNode:(0,s.jsx)(ef.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:a}),handleCarouselSwipe:t.handleCarouselSwipe,pinKey:{type:"deprecated",data:u},sliderStyleOverride:{padding:"30px 12px"},viewParameter:t.viewParameter,viewType:t.viewType})})}),(0,s.jsx)(o.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:et.Z,position:"absolute",right:!0,children:!b&&p&&(0,s.jsx)(ec.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(ex,{carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,handleCarouselSwipe:t.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:u},variant:"default",viewParameter:t.viewParameter,viewType:t.viewType})})})})})]}),P&&(0,s.jsxs)(eo,{horizontalOffset:T,name:"flashlight-button",verticalOffset:C,children:[(0,s.jsx)(o.xu,{height:`calc(100% - ${48+H}px)`}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:X(N)},display:"flex",justifyContent:"end",paddingX:et.Z,right:!0,children:(0,s.jsx)(ec.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:"all 0.5s",visibility:eI?"visible":"hidden"}},opacity:eI?1:0,children:(0,s.jsx)(ew,{actionUrl:eS,activatePinLevelLandingExp:ej,animateOnRender:!0,animateShopButton:e,dataTestId:"shop-button",id:u.id,imageSignature:u.image_signature,onAnimationComplete:c,onButtonClick:({event:e})=>{["flashlight","stela"].includes(k)&&R({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:u.image_signature}}),e?.stopPropagation(),eS&&null!=k?(ej(),F.push(eS)):F.push((0,ep.Z)({pinId:u.id,isProductPage:!1,surfaceType:k}))},surfaceType:k,variant:"visual-search"})})})})})})]}),Y&&(0,s.jsxs)(eo,{horizontalOffset:T,name:"media-viewer-button",verticalOffset:C,children:[(0,s.jsx)(o.xu,{height:`calc(100% - ${(48+H)*2}px)`}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:X(U)},display:"flex",justifyContent:"end",paddingX:et.Z,right:!0,children:(0,s.jsx)(e_,{carouselData:t?.carouselData,disableAnimations:!0,displayWidth:W,children:(0,s.jsx)(ec.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(o.xu,{ref:r,onMouseDown:()=>{new Image().src=M.url},children:(0,s.jsx)(ew,{animateOnRender:!1,animateShopButton:e,dataTestId:"media-viewer-button",id:u.id,imageSignature:u.image_signature,onAnimationComplete:c,onButtonClick:n,surfaceType:"media-viewer",variant:"view-larger"})})})})})})})]}),_&&(0,s.jsxs)(eo,{horizontalOffset:T,name:"debug-signals-feedback",verticalOffset:C,children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:X(N)},display:"flex",justifyContent:"end",paddingX:et.Z,right:!0,children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(eP,{pinKey:{type:"deprecated",data:u}})})})]}),u.digital_media_source_type&&ee&&(0,s.jsx)(eo,{horizontalOffset:(T??0)+4,name:"ai-generated-label",verticalOffset:C,children:(0,s.jsx)(el,{closeupWithinMasonryEnabled:L,digitalMediaType:u.digital_media_source_type,isViewedByOwnerEmployeeOrAgency:u.is_viewed_by_owner_or_employee_or_partner_of_business||!1,shouldMoveAILabel:em&&(a||"enabled_persistent_cta"===V)})}),ea&&(0,s.jsxs)(eo,{horizontalOffset:T,name:"domain-link-button",verticalOffset:C,children:[(0,s.jsx)(o.xu,{height:`calc(100% - ${48+H}px)`}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:X(N)},display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:et.Z,children:(0,s.jsx)(ec.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:d((0,s.jsx)(er.Z,{clientTrackingParams:E,domain:i,link:l,pinKey:{type:"deprecated",data:u},size:"lg",trafficSource:S}))})})})})]}),I&&(0,s.jsx)(eo,{horizontalOffset:T,name:"tag-button",verticalOffset:C,children:(0,s.jsx)(ec.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(eb,{pin:u})})})})})]})};var ek=i(515171),eS=i(103423),ej=i(120034),eA=i(169900),eC=i(514793),eT=i(322707),eE=i(45350),eL=i(953994),eZ=i(521367),ez=i(680391),eM=i(632492),eD=i(542515),eR=i(271245),eF=i(758594);let eB=(0,eR.Z)(()=>Promise.all([i.e("63485"),i.e("63390"),i.e("26877"),i.e("63529"),i.e("71309")]).then(i.bind(i,696848)),void 0,e=>696848,"app-common-react-components-closeup-CloseupShuffle-CloseupShuffle");function eO({onClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:r,handleCollageOverlayToggle:d,handleMediaButtonClick:c}){let u,g;let{animateShopButton:_,onShopButtonAnimationComplete:y,originalImageUrl:x,imageSignature:b,link:w,isScenePin:P,disablePinTagButton:I,showProductDetailPage:k,maxCloseupImageWidth:S,imageWithPreview:j}=(0,eA.Z)({pinKey:{type:"deprecated",data:i}}),A=(0,eh.Z)(),{mainImage:C,carouselInfo:T}=(0,v.r)(),E=(0,eT.Z)(),{peekRedesignFastFollowsEnabled:L}=(0,es.Z)(C),Z=(0,f.useRef)(null),z=(0,f.useRef)(null),{domain:M,shuffle:D}=i,R=!!T?.carouselData,{naturalWidth:B,naturalHeight:O}=j,{closeupWithinMasonryEnabled:V,isCloseupRelatedPinsAboveTheFoldEnabled:K,peekCloseupEnabled:W,clientTrackingParams:H,showCloseupContentRight:$,viewportSize:X}=(0,m.x4)(),{isRTL:Y}=(0,h.B)(),{borderStyle:J}=(0,p.Z)({isSideBySide:$,isPadded:n,isRTL:Y,closeupWithinMasonryEnabled:V,peekCloseupEnabled:W}),{containerHeight:Q,containerWidth:ee,horizontalOffset:et,verticalOffset:ei}=(0,G.ZP)({carouselData:T?.carouselData,mainImage:C,maxCloseupImageWidth:S,shouldPadImage:n,pinKey:{type:"deprecated",data:i}}),[en,ea]=(0,f.useState)({width:ee,height:Q}),el=(0,f.useCallback)(()=>{let e=ee>Q?Q/ee:1,t=Z.current;if(!t)return;let i=t.offsetWidth*e;ea(e=>{let n={height:t.offsetHeight||i,width:t.offsetWidth};return e.height!==n.height||e.width!==n.width?n:e})},[Q,ee]);(0,eD.Z)(el,Z);let er=!!D&&E(),eo=(0,eL.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{currentDomain:ed}=(0,ej.Z)({carouselData:i.carousel_data&&{carouselSlots:i.carousel_data.carousel_slots&&i.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:i.carousel_data?.index},domain:i.domain}),ec=ed||M,eu={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(T&&T.carouselData&&T.carouselData.id){let{carousel_slots:e=[],id:t,index:i=0}=T.carouselData;u=e[i]&&e[i].link,eu.carousel_slot_id=e[i]&&e[i].id,eu.carousel_data_id=t,eu.carousel_slot_index=i,ec=e[i]&&e[i].domain||ec}let ep=(0,F.Z)({type:"deprecated",data:i})();ep&&(eu.commerce_data=ep);let eg=u||w||x||"",em=(0,ez.Z)({href:{pathname:eg,state:{trackingParams:H}},target:"blank",clientTrackingParams:H,externalData:{auxData:eu,pin:i&&{attributionSourceId:i.attribution_source_id,board:i.board&&{url:i.board.url},campaignId:i.campaign_id,entityId:i.id,isDownstreamPromotion:i.is_downstream_promotion,isPromoted:i.is_promoted,pinner:i.pinner&&{username:i.pinner.username},pinPromotionId:i.pin_promotion_id,promoter:i.promoter&&{entityId:i.promoter.id},storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,advertiserId:i.advertiser_id}}}),e_=(0,s.jsx)(eE.Z,{id:"CloseupImage",children:(0,s.jsx)(eF.Z,{metricName:"CloseupImage",children:(0,s.jsx)(q,{borderStyle:J,dominantColor:U.yc,fit:L||V?void 0:"contain",imageWithPreview:j})})}),ef=e_;R&&(ef=(0,s.jsx)(N,{displayHeight:K?en?.height:Q,displayWidth:K?en?.width:ee,pinKey:{type:"deprecated",data:i}})),er&&(ef=(0,s.jsx)(eB,{clientTrackingParams:H,fallback:e_,handleCollageOverlayToggle:d,naturalHeight:O,naturalWidth:B,pinId:i.id,shuffleId:D?.id,children:(0,s.jsx)(o.xu,{width:"100%",children:e_})}));let{maxHeight:ey,fiftyPercentWidth:ex,fiftyPercentHeight:ev}=(0,U.Re)(),{maxHeight:eb}=(0,eC.Z)({pinKey:{type:"deprecated",data:i}}),{showCarouselControls:ew,showCloseupShopDomainLinkButton:eP,showDebugSignalsFeedbackButton:eR,showDomainLink:eO,showDomainLinkButton:eV,showFlashlightButton:eK,showPinTagButton:eW,surfaceType:eH}=(0,eS.Z)({carouselInfo:T,disablePinTagButton:I,domain:ec||"",hasMetTrustAndSafetyCheck:eo,isCollageEnabled:er,isEmployee:A.isAuth&&!!A.isEmployee,isHovered:t,isORBACProfileManager:r,isScenePin:P,navLink:eg,pinKey:{type:"deprecated",data:i},showProductDetailPage:k});return V?g=eb:L||(g="sm"===X?ev:ey),(0,s.jsxs)(o.xu,{ref:Z,alignSelf:V?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:(0,G.GJ)(B,O),backgroundColor:V?void 0:U.yc}},"data-test-id":"closeup-body-image-container",height:V?"round(100%, 2px)":Q,maxHeight:g,maxWidth:ex,position:"relative",width:V?"round(100%, 2px)":ee,children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...J,display:V?"grid":"block"}},"data-test-id":"closeup-image",height:"100%",overflow:"hidden",width:"100%",children:ef}),(0,s.jsx)(eI,{animateShopButton:_,carouselInfo:T,domain:ec??M??"",handleMediaButtonClick:c,horizontalOffset:et,imageSignature:b,isHovered:t,link:eg,maxCloseupImageWidth:S,mediaViewerExpandButtonRef:z,navigationWrapper:t=>(0,s.jsx)(ek.Z,{href:eg,onClick:e,onNavigation:em,children:t}),onShopButtonAnimationComplete:y,pin:i,shouldPadImage:n,showCarouselControls:ew,showCarouselEllipsis:!k,showCloseupShopDomainLinkButton:eP,showDebugSignalsFeedbackButton:eR,showDomainLink:eO,showDomainLinkButton:eV,showFlashlightButton:eK,showPinTagButton:eW,surfaceType:eH,trafficSource:a,verticalOffset:ei,viewParameter:l}),z&&(0,s.jsx)(o.mh,{zIndex:eM.lI,children:(0,s.jsx)(eZ.Qp,{anchor:z.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})}var eV=i(145687),eK=i(196805),eW=i(566431),eH=i(852796),eN=i(176783),eG=i(967515),eU=i(408640),e$=i(893957),eX=i(764682),eY=i(63805);let eJ=(e,t)=>e?13799:0===t?227:228,eq=({pages:e,viewType:t,viewParameter:i,pinId:n})=>{let{clearSeekTime:a}=(0,eG.RC)(),{setIdeaPinActivePage:l}=(0,eY.Ut)(),[r,o]=(0,f.useState)(0),[s,d]=(0,f.useState)(!0),[c,u]=(0,f.useState)(!0),[p,g]=(0,f.useState)(!1),[_,y]=(0,f.useState)(null),{isCloseupRelatedPinsAboveTheFoldEnabled:x}=(0,m.x4)(),v=(0,w.Z)(),b=e[r],P=(0,eH.g)(),I=(0,D.E)(),k=(0,f.useRef)(null),{blocks:[S]=[null]}=(0,eK.Z)({storyPinBlocks:b?.blocks||[],blocksToRender:[eN.h8.VIDEO]}),{seekTimes:j}=(0,eG.Hx)(),A=j&&j[n],C=S?.type===eN.h8.VIDEO&&S?.video,T=(0,h.B)().locale.toLowerCase(),E=C&&(C?.video_list?.V_720P?.captions_urls||C?.video_list?.V_HLSV3_MOBILE?.captions_urls)||{},L=T&&E[T]||Object.values(E)[0]||"",Z=()=>{I&&(I.addBinaryAnnotation("page.current.index",r,"I16"),I.addBinaryAnnotation("page.count",e.length,"I16"),I.addBinaryAnnotation("view.type",t,"I32"),I.addBinaryAnnotation("view.parameter",i,"I32")),(0,R.rt)("page.current.index",r,"I16"),(0,R.rt)("page.count",e.length,"I16"),(0,R.rt)("view.type",t,"I32"),(0,R.rt)("view.parameter",i,"I32")},z=(0,f.useCallback)(n=>{I&&I.abort("startNewPwt"),P&&(P.abort("startNewPwt"),P.start(),P.addBinaryAnnotation("page.current.index",n,"I16"),P.addBinaryAnnotation("page.count",e.length,"I16"),P.addBinaryAnnotation("view.type",t,"I32"),P.addBinaryAnnotation("view.parameter",i,"I32"))},[e.length,I,P,i,t]),M=(0,f.useCallback)(e=>{e&&e instanceof eU.B7&&(e.clear(),e=null)},[]),F=(0,f.useCallback)(t=>{M(k.current),!C&&e.length>1&&(k.current=new eU.B7(e=>{y({currentTime:e<1?e:1,duration:1})},()=>{t<e.length-1?(M(k.current),O(t+1)):(g(!0),d(!1))},eW.oN))},[e]),B=(0,f.useCallback)(e=>{y({currentTime:0,duration:1}),F(e)},[F]);(0,e$.Z)(()=>(x&&Z(),B(r),()=>{k.current&&k.current instanceof eU.B7&&k.current.clear()}));let O=(0,f.useCallback)(e=>{s||d(!0),p&&g(!1),B(e),e!==r&&a(),o(e),l(e),z(e)},[r,a,B,s,l,p,z]);(0,f.useEffect)(()=>{if(p&&g(!1),k.current&&A){let e=k.current;e.pause(),e.remaining=eW.oN-A*eX.gJ,y({currentTime:A/eW.P6,duration:1})}},[A]);let V=()=>{d(!1),k.current&&k.current.pause(),v({event_type:9324,view_type:t,view_parameter:i,component:eJ(p,r),object_id_str:n,aux_data:{story_pin_page_id:r}})},K=()=>{if(d(!0),k.current){let e=k.current;A&&A>0&&a(),e.resume()}else _||B(r);g(!1),v({event_type:9323,view_type:t,view_parameter:i,component:eJ(p,r),object_id_str:n,aux_data:{story_pin_page_id:r}})},W=()=>{r<e.length-1&&(O(r+1),v({event_type:101,view_type:t,view_parameter:i,component:eJ(p,r),element:12261,object_id_str:n}))};return{activePageIndex:r,captions:L,currentPage:b,handleMute:()=>{u(e=>!e)},handlePageChange:O,handlePause:V,handlePausePlay:()=>{p||(s?V():K())},handlePlay:K,handleUpdateVideoInfo:e=>{y({currentTime:e?.currentTime??0,duration:e?.duration??1})},handleVideoEnd:t=>{t===e.length-1&&(g(!0),d(!1),l(0)),t===r&&W()},handleVideoScrubbingNewPage:e=>{p&&g(!1),B(e),o(e),l(e),z(e)},handleWatchAgain:()=>{O(0)},isActive:s,isSeeking:!!A,mute:c,progressInfo:_,setMute:u,showEndCard:p}};var eQ=i(532074),e0=i(161458),e1=i(187379),e3=i(661376),e2=i(410706),e6=i(639043),e8=i(151383),e7=i(450228),e5=i(317083);let e4={width:508,height:640},e9={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function te({onClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:r,handleMediaButtonClick:d}){let c;let{animateShopButton:u,onShopButtonAnimationComplete:g,originalImageUrl:_,imageSignature:y,link:x,isScenePin:b,disablePinTagButton:w,maxCloseupImageWidth:P,imageWithPreview:I}=(0,eA.Z)({pinKey:{type:"deprecated",data:i}}),k=(0,eh.Z)(),{closeupWithinMasonryEnabled:S,isCloseupRelatedPinsAboveTheFoldEnabled:j,peekCloseupEnabled:A,viewportSize:C,clientTrackingParams:T,showCloseupContentRight:E}=(0,m.x4)(),{isRTL:L}=(0,h.B)(),Z=(0,f.useRef)(null),{maxHeight:z,fiftyPercentHeight:M,fiftyPercentWidth:D}=(0,U.Re)(),{maxHeight:R}=(0,eC.Z)({pinKey:{type:"deprecated",data:i}}),[B,O]=(0,f.useState)(!1),{borderStyle:V}=(0,p.Z)({isSideBySide:E,isPadded:n,isRTL:L,closeupWithinMasonryEnabled:S,peekCloseupEnabled:A}),K=(0,eL.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{mainImage:W}=(0,v.r)(),{domain:H="",id:N,dominant_color:$,story_pin_data:X,native_creator:Y}=i,J={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},Q=(0,F.Z)({type:"deprecated",data:i})();Q&&(J.commerce_data=Q);let ee=x||_||"",{data:et=[],isLoaded:ei}=(0,e3.Z)({name:"StoryPinTaggedProductsResource",options:{id:i.id},noCache:!0}),{pages:ea=[]}=X||{},el=[5,6,2],er=ea.filter(e=>{let t=e?.layout;return void 0!==t&&!el.includes(t)}),{activePageIndex:eo,captions:es,currentPage:ed,handleMute:eu,handlePageChange:ep,handlePause:eg,handlePausePlay:em,handlePlay:e_,handleUpdateVideoInfo:ef,handleVideoEnd:ey,handleVideoScrubbingNewPage:ex,handleWatchAgain:ev,isActive:eb,isSeeking:ew,mute:eP,progressInfo:ej,showEndCard:eT}=eq({pages:er,viewType:3,viewParameter:l,pinId:N}),{blocks:eE}=(0,eK.Z)({storyPinBlocks:ed?.blocks||[],blocksToRender:[eN.h8.COMMENT_REPLY_STICKER,eN.h8.GENERIC_STICKER,eN.h8.HEADING,eN.h8.MENTION_STICKER,eN.h8.PARAGRAPH,eN.h8.PRODUCT_STICKER,eN.h8.VTO_MAKEUP_STICKER]}),{background_color:eZ}=ed?.style||{},{blocks:[eM]=[null]}=(0,eK.Z)({storyPinBlocks:ed?.blocks||[],blocksToRender:[eN.h8.IMAGE,eN.h8.VIDEO]}),eD=eM?.type===eN.h8.VIDEO,eR=eD||er.length>1,eF=(0,ez.Z)({href:{pathname:ee,state:{trackingParams:T}},target:"blank",clientTrackingParams:T,externalData:{auxData:J,pin:i&&{attributionSourceId:i.attribution_source_id,board:i.board&&{url:i.board.url},campaignId:i.campaign_id,entityId:i.id,isDownstreamPromotion:i.is_downstream_promotion,isPromoted:i.is_promoted,pinner:i.pinner&&{username:i.pinner.username},pinPromotionId:i.pin_promotion_id,promoter:i.promoter&&{entityId:i.promoter.id},storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,advertiserId:i.advertiser_id}}}),{fontsLoaded:eB,mediaDataReceived:eO}=(0,e7.tq)({hasPin:!!i,pages:ea}),{showCloseupShopDomainLinkButton:eW,showDebugSignalsFeedbackButton:eH,showDomainLink:eG,showDomainLinkButton:eU,showFlashlightButton:e$,showPinTagButton:eX,surfaceType:eY}=(0,eS.Z)({disablePinTagButton:w,domain:H,hasMetTrustAndSafetyCheck:K,isEmployee:k.isAuth&&!!k.isEmployee,isHovered:t,isScenePin:b,navLink:ee,pinKey:{type:"deprecated",data:i},isORBACProfileManager:r}),{containerAspectRatio:eJ,containerHeight:te,containerWidth:tt,horizontalOffset:ti,letterBoxAspectRatio:tn,letterBoxedHeight:ta,letterBoxedWidth:tl,verticalOffset:tr}=(0,G.ZP)({mainImage:W,maxCloseupImageWidth:P,pinKey:{type:"deprecated",data:i}}),{height:to,width:ts}=W;return i.story_pin_data?.is_deleted?(0,s.jsx)(e6.Z,{color:"secondary",height:e4.height,rounding:4,width:e4.width}):(S?c=R:A&&(c="sm"===C?M:z),(0,s.jsx)(o.xu,{alignSelf:S?"center":void 0,dangerouslySetInlineStyle:{__style:{...V,aspectRatio:S?(0,G.GJ)(ts,to):void 0,background:S?U.yc:eZ||"#fff"}},"data-test-id":"closeup-body-image-container",height:S?"round(100%, 2px)":te,maxHeight:c,maxWidth:D,onMouseEnter:()=>{eR&&O(!0)},onMouseLeave:()=>{O(!1)},position:"relative",width:S?"round(100%, 2px)":tt,children:ed?(0,s.jsxs)(f.Fragment,{children:[!j&&(0,s.jsxs)(o.xu,{bottom:!0,"data-test-id":"closeup-image",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[!eO&&(0,s.jsx)(q,{dominantColor:$||"",imageWithPreview:I}),eM&&(0,s.jsx)(e0.Z,{activePageIndex:eo,block:eM,fontsLoaded:eB,isActive:!0,muteVideos:!0,onEnded:ey,onUpdateVideoInfo:ef,ownerId:Y?.id??"",pageAspectRatio:eJ,pageHeight:te,pageIndex:0,pageWidth:tt,pin:i,pinId:N,pinKey:{type:"deprecated",data:i},stillLoading:!eO})]}),!eR&&(0,s.jsx)(eI,{animateShopButton:u,domain:H,handleMediaButtonClick:d,imageSignature:y,isHovered:t,link:ee,maxCloseupImageWidth:P,mediaViewerExpandButtonRef:Z,navigationWrapper:t=>(0,s.jsx)(ek.Z,{href:ee,onClick:e,onNavigation:eF,children:t}),onShopButtonAnimationComplete:g,pin:i,shouldPadImage:n,showCloseupShopDomainLinkButton:eW,showDebugSignalsFeedbackButton:eH,showDomainLink:eG,showDomainLinkButton:eU,showFlashlightButton:e$,showPinTagButton:eX,surfaceType:eY,trafficSource:a,viewParameter:l}),j&&(B||!eb)&&(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...e5.Ul,flexDirection:"column-reverse"}},display:"flex",height:e5.hy,paddingX:6,position:"absolute",width:"100%",zIndex:eN.Gf,children:(0,s.jsx)(e8.Z,{activePageIndex:eo,captionsUrl:es,handleMute:eu,handlePause:eg,handlePausePlay:em,handlePlay:e_,handleVideoScrubbingNewPage:ex,handleWatchAgain:ev,inMilliseconds:!0,isMuted:eP,isPanelOpen:!0,isPlaying:eb,isStoryPin:!0,onPageSelect:e=>ep(e),pageCount:er.length,pages:er,pinId:N,progressInfo:ej,showEndCard:eT,showVideoControls:!0,viewParameter:156})}),(0,s.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...e9}},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:eN.Gf,children:(0,s.jsx)(eV.Z,{handlePause:eg,handlePlay:e_,musicAttributions:ed?.music_attributions,shouldMute:ed?.should_mute,showEndCard:eT})})]}),!j&&ei&&eE.map((e,t)=>{let n=(et||[]).find(t=>[t.id,t.cacheable_id].includes(e.pin_id));return(0,s.jsx)(e0.Z,{block:e,disableProductStickers:!0,fontsLoaded:eB,isActive:!1,muteVideos:!0,ownerId:Y?.id??"",pageAspectRatio:eJ,pageHeight:te,pageIndex:0,pageWidth:tt,pin:i,pinId:N,pinKey:null!=n?{type:"deprecated",data:n}:null,stillLoading:!eO},`${ed.id??""}-${e.type??""}-${t}`)}),j&&(0,s.jsxs)(o.iP,{disabled:!B||eT,fullHeight:!0,onTap:em,children:[(0,s.jsx)(e1.Z,{activePageIndex:eo,clientTrackingParams:T,customEndCard:!0,fontsLoaded:eB,horizontalOffset:ti,isActive:eb,muteVideos:eP,onEnded:ey,onUpdateVideoInfo:ef,ownerId:i.native_creator?.id??"",page:ed,pageAspectRatio:tn,pageHeight:ta,pageIndex:eo,pageWidth:tl,pin:i,pinId:N,productPins:et,shouldLogTimeSpent:!0,stillLoading:!eO,verticalOffset:tr,videoPinProgress:ej,viewParameter:l,viewType:3}),!eT&&!ew&&er.length>1&&!eD&&(0,s.jsx)(e2.Z,{playing:eb})]}),j&&eT&&i.native_creator&&(0,s.jsx)(ec.Z,{name:"SIIPMediaContainer_VideoEndCard",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:eN.s5,children:(0,s.jsx)(eQ.default,{clientTrackingParams:i.trackingParams||i.tracking_params,imageSrc:i.image_url??"",pinDescription:i.description??"",pinId:i.id,rounded:!1,watchAgain:ev})})})})]}):ed?null:(0,s.jsx)(q,{dominantColor:S?U.yc:$||"",fit:"contain",imageWithPreview:I})}))}var tt=i(19817),ti=i(112658);let tn=e=>{let{isHovered:t,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r,isORBACProfileManager:o,handleCollageOverlayToggle:c,handleMediaButtonClick:u}=e,h=(0,F.Z)({type:"deprecated",data:n}),p=n.is_eligible_for_pdp?h():void 0,{isEligibleForStaticImageIdeaPin:g}=(0,tt.Z)(n.should_open_in_stream,n.story_pin_data_id),{clientTrackingParams:_}=(0,m.x4)(),f=(0,s.jsx)(ti.Z,{auxData:p,clientTrackingParams:_,component:85,viewParameter:r,children:g?(0,s.jsx)(te,{handleMediaButtonClick:u,isHovered:t,isORBACProfileManager:o,onClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r}):(0,s.jsx)(eO,{handleCollageOverlayToggle:c,handleMediaButtonClick:u,isHovered:t,isORBACProfileManager:o,onClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r})});return a?(0,s.jsx)(d,{children:f}):f};var ta=i(573375),tl=i(919917),tr=i(478428);function to(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ts=void 0!==l?l:l=i(264370);class td extends f.Component{constructor(...e){super(...e),to(this,"handleVisibilityChanged",e=>{let{pinId:t,isPromoted:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:l,videoStartTime:r}=this.props,o=(0,tr.Z)(t,l);e&&!o?n({pinId:t,isPromoted:!!i,currentTime:r}):!e&&o&&a({pinId:t,isPromoted:!!i,currentTime:this.currentVideoCurrentTime})}),to(this,"handleVideoTimeChange",e=>{let{pinId:t,videosAutoplaying:i}=this.props;(0,tr.Z)(t,i)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,pauseAutoplay:n,pinId:a,isPromoted:l,setCurrentVideo:r,videosAutoplaying:o}=this.props,s=(0,tr.Z)(a,o),d=(0,tl.Z)(a,o);this.currentVideoCurrentTime=d??this.currentVideoCurrentTime,i!==t&&!i&&s?(this.pausedDueToBrowserOutOfFocus=!0,n({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:t,pauseAutoplay:i}=this.props;i({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){let{pauseAutoplay:e,pin:t,setCurrentVideo:i,videoStartTime:n,videosAutoplaying:a,...l}=this.props;return(0,s.jsx)(ta.Z,{onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...l,children:(0,s.jsx)(b.Z,{...l,onTimeChange:this.handleVideoTimeChange,pinKey:t})})}}function tc(e){let{pinId:t,pinKey:i,isPromoted:n}=e,a=(0,P.Z)(ts,i),{appUI:{appInFocus:l,videosAutoplaying:r},pauseAutoplay:o,setCurrentVideo:d}=(0,B.I)(),{organicVideosAutoplaying:c,promotedVideosAutoplaying:u}=r,h=n?u[t]:c[t];return(0,s.jsx)(td,{...e,appInFocus:l,pauseAutoplay:o,pin:a,setCurrentVideo:d,videosAutoplaying:r,videoStartTime:h?h.currentTime:null})}var tu=i(831667),th=i(918617);let tp=(0,f.lazy)(()=>i.e("74993").then(i.bind(i,313072))),tg=({children:e,name:t})=>(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),tm=void 0!==r?r:r=i(609311),t_=({closeupIsFirstPageInHistoryStack:e,customThumbnail:t,imageContainerRef:i,isWideVideo:n,pin:a,pinKey:l,shouldPadImage:r,flyoutShareProps:c,video:u,isORBACProfileManager:h})=>{let p=(0,P.Z)(tm,l),_=!!a.promoter&&!a.is_downstream_promotion,f=_&&!a.is_eligible_for_web_closeup,{access:y,should_mute:x}=a||{},v=!!y&&y.includes("tag")||h,{closeupWithinMasonryEnabled:b}=(0,m.x4)(),{closeupBodyWidth:w}=(0,eg.K4)(),{fiftyPercentWidth:I}=(0,U.Re)(),{maxHeight:k}=(0,eC.Z)({pinKey:p}),S=Math.max((w??1)/("number"==typeof k?k:1),(u.hls?.width??u?.mp4?.width??0)/(u.hls?.height??u?.mp4?.height??0)),j=b?w:g.Gg-g.d2,A=(0,s.jsxs)(th.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:r,styleOverrides:r&&!b?{maxWidth:{maxWidth:j},minWidth:{minWidth:j},height:{},borderRadius:16}:{},variant:"default",children:[(0,s.jsx)(o.xu,{ref:i,"data-test-id":"closeup-video-with-visibility",maxHeight:k,maxWidth:I,width:"100%",children:(0,s.jsx)(tc,{aspectRatio:b?S:void 0,autoplay:!tu.Z,customThumbnail:t,flyoutShareProps:c,isPromoted:_,loop:f,muted:x||e,objectFit:b?"contain":void 0,pinId:a.id,pinKey:p,shouldMute:x,variant:"default",video:u})}),v&&(0,s.jsx)(tg,{name:"tag-button",children:(0,s.jsx)(ec.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,s.jsx)(en.Z,{children:(0,s.jsx)(ei.Z,{children:(0,s.jsx)(tp,{pin:a})})})})})]});return r?(0,s.jsx)(d,{children:A}):A};var tf=i(239321);let ty=e=>{let{clientTrackingParams:t,closeupIsFirstPageInHistoryStack:i,imageContainerRef:n,flyoutShareProps:a,isWideVideo:l,pin:r,shouldPadImage:d,trafficSource:c,isORBACProfileManager:u,isHovered:h,handleCollageOverlayToggle:p,onImageClick:g,viewParameter:f,handleMediaButtonClick:y}=e,{video:x,imgSrc:b,isEmbeddedVideo:w}=(0,v.r)(),{closeupWithinMasonryEnabled:P}=(0,m.x4)(),I=(0,s.jsx)(tf.Z,{clientTrackingParams:t,hovered:h,pinKey:{type:"deprecated",data:r},viewType:3,children:(0,s.jsx)(tn,{handleCollageOverlayToggle:p,handleMediaButtonClick:y,isHovered:h,isORBACProfileManager:u,onImageClick:g,pin:r,shouldPadImage:d,trafficSource:c,viewParameter:f})});if(x&&(I=(0,s.jsx)(t_,{closeupIsFirstPageInHistoryStack:i,customThumbnail:b,flyoutShareProps:a,imageContainerRef:n,isORBACProfileManager:u,isWideVideo:l,pin:r,pinKey:{type:"deprecated",data:r},shouldPadImage:d,video:x})),w){let e="50%",t=r.attribution&&(r.attribution.author_name||r.attribution.url)?r.attribution.provider_name:null;"soundcloud"===t?e="30%":"vin"===t&&(e="100%"),I=(0,s.jsx)(_,{embedUrl:r.embed?.src,isWideVideo:l,paddingBottom:e,shouldPadImage:d})}return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{overflow:P?"clip":void 0}},rounding:P?4:void 0,children:I})}},169900:function(e,t,i){"use strict";i.d(t,{Z:()=>x});var n,a=i(667294);i(167912);var l=i(918186),r=i(322707),o=i(752031),s=i(907022),d=i(138596),c=i(763672),u=i(613567),h=i(986523),p=i(462867),g=i(200619),m=i(601871),_=i(800640),f=i(133546);let y=void 0!==n?n:n=i(977357);function x({pinKey:e}){let t=(0,d.ZP)(),i=(0,p.Z)(),{checkExperiment:n}=(0,u.F)(),x=(0,g.Z)(),{mainImage:v,carouselInfo:b,previewImage:w,isGif:P,imgSrc:I}=(0,o.r)(),k=(0,r.Z)(),S=(0,s.Z)(y,e),j=(0,h.Z)(),{aggregatedPinData:A,altText:C,autoAltText:T,isEligibleForPdp:E,isEligibleForRelatedProducts:L,pinner:Z,richMetadata:z,trackedLink:M,link:D,method:R,shuffle:F}=S,B=!E&&b?.carouselData,O=!!A?.isShopTheLook,V=!!F&&k(),K=(0,m.nl)(i,x)&&n("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[W,H]=(0,a.useState)(!0),N=(0,a.useCallback)(()=>{H(!1)},[H]),G=S.imageSpec_orig?.url,U=b?.carouselData?function(e){let{carousel_slots:t,index:i}=e;return t&&void 0!==i&&(t[i]||{}).image_signature?t[i].image_signature:null}(b.carouselData):S.imageSignature,$=M||D,X="catalog_bulk_create"===R||z?.products,Y=$&&X?decodeURIComponent($):$,J=(0,m.Ms)(i,x)===Z?.username&&K,{closeupWithinMasonryEnabled:q,paneWidth:Q,showProductDetailPage:ee}=(0,f.x4)(),{closeupBodyWidth:et}=(0,_.K4)(),{height:ei,width:en}=v,ea={naturalWidth:en,naturalHeight:ei,alt:(0,l.Z)({altText:C,autoAltText:T,i18n:t}),src:P?I:!j&&I?.startsWith("https://i.pinimg.com/")?(0,c.Z)(I)||w?.url||"":w?.url||""},el={naturalHeight:ea.naturalHeight,naturalWidth:ea.naturalWidth,mainImage:{alt:ea.alt,src:P?ea.src:I},...!P&&{previewImage:{alt:"",src:P?"":ea.src}}};return{animateShopButton:W,disablePinTagButton:J,imageProps:ea,imageSignature:U,imageWithPreview:el,isScenePin:!!L&&!O&&!E&&!B&&!V,link:Y,maxCloseupImageWidth:q&&et||Q,onShopButtonAnimationComplete:N,originalImageUrl:G,showProductDetailPage:ee}}},532074:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(883119),a=i(768576),l=i(584843),r=i(104999),o=i(138596),s=i(176783),d=i(893957),c=i(785893);let u=({clientTrackingParams:e,watchAgain:t,imageSrc:i,pinDescription:u,pinId:h,rounded:p=!0})=>{let g=(0,o.ZP)(),m=(0,r.Z)();(0,d.Z)(()=>{m({event_type:120,view_type:3,component:13799})});let _=()=>{t()};return(0,c.jsx)(n.xu,{alignItems:"center",bottom:!0,color:"dark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:.9,padding:4,position:"absolute",right:!0,rounding:p?s.yR:0,top:!0,width:"100%",children:(0,c.jsx)(n.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(n.kC,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,c.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.default,{buttonText:g.bt("Gửi", "Send", "end.video.send.icon.label", undefined, true),clientTrackingParams:e,imageSrc:i,pinDescription:u,pinId:h,shownWithinMasonry:!0})}),(0,c.jsxs)(n.kC,{alignItems:"center",children:[(0,c.jsx)(a.Z,{accessibilityLabel:g.bt("Nút phát lại", "Replay button", "storyPin.closeup.endCard.replay", undefined, true),handleClick:_,icon:"refresh",iconColor:"white",testId:"closeup-replay-button"}),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.iP,{onTap:_,rounding:2,children:(0,c.jsx)(n.X6,{color:"light",overflow:"normal",size:"400",children:g.bt("Phát lại", "Replay", "storyPin.closeup.endCard.replay", undefined, true)})})})]})]})})})}},187379:function(e,t,i){"use strict";i.d(t,{Z:()=>u});var n=i(883119),a=i(788730),l=i(161458),r=i(196805),o=i(176783),s=i(112658),d=i(133546),c=i(785893);function u({activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:u,fontsLoaded:h,horizontalOffset:p,isActive:g,isPreview:m,muteVideos:_,onEnded:f,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:v,page:b,pageAspectRatio:w,pageHeight:P,pageIndex:I,pageWidth:k,pin:S,pinId:j,productPins:A,shouldLogTimeSpent:C=!0,stillLoading:T=!1,verticalOffset:E,videoPinProgress:L,viewParameter:Z,viewType:z}){let{closeupWithinMasonryEnabled:M}=(0,d.x4)(),{background_color:D}=b.style||{},{nonRenderableBlocks:R,blocks:F}=(0,r.Z)({storyPinBlocks:b.blocks??[]}),B=!!F.find(e=>e.type===o.h8.VIDEO),O=!!F.find(e=>!!e.video&&e.type===o.h8.VIDEO&&e.video_signature),V=R.find(e=>e.type===o.h8.MUSIC),K=V?.type==="story_pin_music_block"?V.provider_recording_id:void 0,W=()=>(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:M?a.yc:D||"#fff"}},height:"100%",children:!m&&F.filter(e=>!B||O||e.type===o.h8.VIDEO).map((t,n)=>{let a=(A||[]).find(e=>[e.id,e.cacheable_id].includes(t.pin_id));return(0,c.jsx)(l.Z,{activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:u,disableProductStickers:!0,fontsLoaded:h,horizontalOffset:p,isActive:g,isSplitLayout:3===b.layout,musicRecordingId:K,muteVideos:_,onEnded:f,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:v,pageAspectRatio:w,pageHeight:P,pageIndex:I,pageWidth:k,pin:S,pinId:j,pinKey:null!=a?{type:"deprecated",data:a}:null,stillLoading:T,verticalOffset:E,videoPinProgress:L},`${b.id??""}-${t.type??""}-${n}`)})});return C?(0,c.jsx)(s.Z,{auxData:{story_pin_page_id:I},clientTrackingParams:t,component:0===I?227:228,shouldUseGrandparentId:!0,view:z,viewParameter:Z,children:W()}):W()}},196805:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(176783);let a=[n.h8.COMMENT_REPLY_STICKER,n.h8.GENERIC_STICKER,n.h8.HEADING,n.h8.IMAGE,n.h8.MENTION_STICKER,n.h8.PARAGRAPH,n.h8.PRODUCT_STICKER,n.h8.VIDEO,n.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=a}){let i=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===n.h8.PARAGRAPH||e.type===n.h8.HEADING?l.push(e):r.push(e):i.push(e)}),r.push(...l),{nonRenderableBlocks:i,textBlocks:l,blocks:r}}},752031:function(e,t,i){"use strict";i.d(t,{A:()=>h,r:()=>c});var n,a=i(667294);i(167912);var l=i(213491),r=i(907022),o=i(566431),s=i(785893);let{Provider:d,useHook:c}=(0,l.Z)("PageHeader"),u=void 0!==n?n:n=i(254267),h=({children:e,pinKey:t,overrideValue:i={}})=>{let n=(0,r.Z)(u,t),l=n?.videos,c=n?.embed,h=(0,a.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),p=(0,a.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),g=(0,a.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),m=(0,a.useMemo)(()=>{let e=h||p||g;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:h||void 0,hls:p||void 0,hlsv3:g||void 0}:null},[p,g,h,l?.entityId]),_=c?.src,f=c?.subtype==="pinstory",y=(0,o.sY)(c?.type),x=n?.imageSpec_736x||n?.imageSpec_564x||n?.imageSpec_orig||n?.imageSpec_474x||n?.imageSpec_236x,v=n?.imageSpec_1200x||n?.imageSpec_orig||n?.imageSpec_736x||n?.imageSpec_564x||n?.imageSpec_474x||n?.imageSpec_236x,b=n?.imageSpec_236x,w=(0,a.useMemo)(()=>{let e={mainImage:{height:x?.height??1,url:x?.url??"",width:x?.width??1},previewImage:b?.url?{height:b.height??1,url:b.url??"",width:b.width??1}:null,...i};return{embed:c,isEmbeddedVideo:!!_&&!y&&!f,video:m,imgSrc:y&&c?.src?c.src:e.mainImage.url,isGif:y,mediaViewerImage:{height:v?.height??1,url:v?.url??"",width:v?.width??1},...e}},[c,_,y,f,x,i,b?.height,b?.url,b?.width,v,m]);return(0,s.jsx)(d,{value:w,children:e})}},322707:function(e,t,i){"use strict";i.d(t,{Z:()=>r});var n=i(613567),a=i(774838),l=i(739405);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,n.F)();return()=>e&&t&&i("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled}},758724:function(e,t,i){"use strict";i.d(t,{Z:()=>o});var n=i(616550),a=i(774838),l=i(739405),r=i(683372);let o=({isShufflePin:e})=>{let{isAuthenticated:t}=(0,a.B)(),i=(0,l.HG)(),o=(0,r.C)((0,n.TH)());return{isCloseupMediaViewerEnabled:t&&i&&o&&!e}}},19817:function(e,t,i){"use strict";i.d(t,{Z:()=>a});var n=i(133546);let a=(e,t)=>{let{isCloseupRelatedPinsAboveTheFoldEnabled:i}=(0,n.x4)();return{isEligibleForStaticImageIdeaPin:!!t&&(!1===e||i)}}},912046:function(e,t,i){"use strict";i.d(t,{Z:()=>c}),i(167912);var n,a=i(221175),l=i(907022),r=i(382964),o=i(383903),s=i(371266);let d=void 0!==n?n:n=i(554519);function c({pinKey:e,requestParams:t,surfaceType:i,topLevelTrafficSource:n,skipStela:c=!1}){let u=(0,l.Z)(d,e),h=(u.visualObjects||[]).filter(e=>e.isStela),{getNormalizedPinImage:p}=(0,r.Z)({pinKey:u,maxWidth:a.Wm}),{height:g,width:m}=p(),_="";if(h.length>0&&!c){let[e]=h,{x:a,y:l,w:r,h:d}=e,c=e&&(0,o.Z)({cropArea:{x:a,y:l,w:r,h:d},scaledWidth:m,scaledHeight:g});_=c&&(0,s.Z)({cropArea:c,cropSource:9,surfaceType:i,requestParams:t,title:e.label,trafficSource:n})}else _=(0,s.Z)({surfaceType:i,trafficSource:n});return{url:`/pin/${u.entityId}/visual-search/${_}`,hasStelaObjectsAfterFilter:h.length>0}}},584843:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(667294),a=i(616550),l=i(299234),r=i(575820),o=i(785893);function s({buttonText:e,clientTrackingParams:t,imageSrc:i,pinDescription:s,pinId:d,shownWithinMasonry:c}){let u=(0,a.TH)(),[h,p]=(0,n.useState)(!!(0,r.mB)(u.search).share);return(0,o.jsx)(l.default,{buttonText:e,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:c},isFlyoutOpen:h,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:()=>p(!1),onToggleFlyout:()=>p(!h),sendObject:{type:"pin",description:s,id:d,imageUrl:i,url:`/pin/${d}/`,clientTrackingParams:t}},iconColor:"white"})}},433069:function(e,t,i){"use strict";i.d(t,{G:()=>o,b:()=>s});var n=i(667294),a=i(616550),l=i(785893);let r=(0,n.createContext)(!0);function o({children:e}){let t=(0,a.TH)(),[i,o]=(0,n.useState)(!0),s=(0,n.useRef)(t);return(0,n.useEffect)(()=>{s.current!==t&&(s.current=t,o(!1))},[t]),(0,l.jsx)(r.Provider,{value:i,children:e})}function s(){return(0,n.useContext)(r)}},667980:function(e,t,i){"use strict";i.d(t,{N:()=>r,Z:()=>l});var n=i(883119),a=i(785893);function l({children:e,fullWidth:t}){return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(l,{children:e}):e}},953994:function(e,t,i){"use strict";function n({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}i.d(t,{Z:()=>n})},247262:function(e,t,i){"use strict";function n(e){let t=Math.round(e/1e3),i=Math.floor(t/60),n=t%60;return i+":"+(n<10?"0":"")+n}i.d(t,{Z:()=>n})},288692:function(e,t,i){"use strict";async function n(e){return new Promise((t,i)=>{let n=document.createElement("img");n.onerror=()=>i(Error(`Image failed to load with src ${e}`)),n.onload=()=>t(!0),n.src=e})}async function a(e){try{let t=await fetch(e,{method:"HEAD"}),i=(await t.blob()).type.startsWith("image/");{let t=await n(e);return i&&t}}catch(e){return!1}}i.d(t,{Z:()=>a})},763672:function(e,t,i){"use strict";i.d(t,{Z:()=>o});var n=i(767415);let a=e=>{let t=new Image;t.loading="lazy",t.src=e;let{complete:i}=t;return t.src="",i},l=["736x","564x","474x","236x"],r=new RegExp(/\/(\d+x|originals)\//);function o(e){for(let t of l){let i=e.replace(r,`/${t}/`);if(a(i))return(0,n.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:t}}),i}return(0,n.nP)("web.closeup.cached_preview_image.not_found"),null}},978097:function(e,t,i){"use strict";i.d(t,{NC:()=>l,Rc:()=>o,WK:()=>d,X9:()=>a,b9:()=>n,f9:()=>s,gu:()=>r});let n="pin-builder-font-faces",a="system-font-faces",l="pin-builder-education-font-faces",r="licensed",o="system",s="brand",d=4},998727:function(e,t,i){"use strict";i.d(t,{Z:()=>n});let n=e=>{let t={};e.forEach(({label:e,timestamp:i})=>{t={...t,[e]:(t[e]||[]).concat([i])}});let i=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,n)=>{let a=n?`${e}_${n+1}`:e;i={...i,[a]:t}})}),i}},213539:function(e,t,i){"use strict";i.d(t,{Z:()=>ew});var n=i(667294),a=i(616550),l=i(883119),r=i(145687),o=i(788730),s=i(187379),d=i(581722),c=i(138596),u=i(680391),h=i(573375),p=i(228612),g=i(785893);let m=e=>{let t=(0,c.ZP)(),{sourceUrl:i,clientTrackingParams:n,linkText:a,displayUrl:r,image:o,pageId:s,canonicalUrl:h,pinId:m,onTouch:_,onClickThrough:f,isLoading:y}=e,x={story_pin_page_id:s,story_pin_data_id:(0,d.v9)(t=>e.pinId&&t.pins?.[e.pinId]?.story_pin_data_id),src_url:i,canonical_url:h},v=()=>{f&&f({auxData:x})},b=(0,g.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,g.jsx)(l.xu,{alignItems:"center",color:y||o&&o.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:y?(0,g.jsx)(l.xH,{accessibilityLabel:t.bt("Đang tải trang web", "Loading website", "a11y for loading spinner", undefined, true),show:!0}):o&&o.url?(0,g.jsx)(l.Ee,{alt:a,fit:"cover",naturalHeight:o.height??1,naturalWidth:o.width??1,src:o.url}):(0,g.jsx)(l.JO,{accessibilityLabel:t.bt("Biểu tượng khối liên kết mặc định", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",icon:"link",size:35})}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,g.jsx)(l.xv,{lineClamp:1,weight:"bold",children:a}),(0,g.jsx)(l.xv,{color:"shopping",size:"200",children:r})]})]}),w=(0,p.S6)()(m),P=(0,u.Z)({href:{pathname:i,state:{trackingParams:n}},target:"blank",clientTrackingParams:n,externalData:w?{pin:w&&{attributionSourceId:w.attribution_source_id,board:w.board&&{url:w.board.url},campaignId:w.campaign_id,entityId:w.id,isDownstreamPromotion:w.is_downstream_promotion,isPromoted:w.is_promoted,pinner:w.pinner&&{username:w.pinner.username},pinPromotionId:w.pin_promotion_id,promoter:w.promoter&&{entityId:w.promoter.id},storyPinDataId:w.story_pin_data_id,trackingParams:w.tracking_params,advertiserId:w.advertiser_id}}:void 0});return _?(0,g.jsx)(l.iP,{onTap:_,rounding:2,children:b}):(0,g.jsx)(l.Tg,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),v(),P({event:e})},rel:"nofollow",rounding:2,target:"blank",children:b})},_=e=>(0,g.jsx)(h.Z,{...e,children:(0,g.jsx)(m,{...e})});var f=i(230201),y=i(176783);let x=(0,i(271245).Z)(()=>Promise.all([i.e("90562"),i.e("15564")]).then(i.bind(i,129460)),void 0,e=>129460,"app-common-react-components-Activities-Utils-Linkify"),v=({block:e,clientTrackingParams:t,pageId:i,pinId:n,onClickThrough:a})=>{let{logContextEvent:r}=(0,f.v)();switch(e.type){case y.h8.LINK:let{canonical_url:o,image:s,normalized_url:d,src_url:c,text:u=""}=e,h=s?.images?.["345x"];if(s&&c&&d&&o)return(0,g.jsx)(l.xu,{marginTop:5,children:(0,g.jsx)(_,{canonicalUrl:o,clientTrackingParams:t,displayUrl:d,image:h,linkText:u,onClickThrough:a,onVisibilityChanged:e=>{e&&r({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:n,aux_data:{story_pin_page_id:i,srcUrl:c,canonicalUrl:o}})},pageId:i,pinId:n,sourceUrl:c})});return null;case y.h8.HEADING:{let{text:t=""}=e;return(0,g.jsx)(l.xu,{marginBottom:4,paddingX:2,children:(0,g.jsx)(l.X6,{accessibilityLevel:2,overflow:"normal",size:"600",children:t})})}case y.h8.PARAGRAPH:{let{text:t=""}=e;return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,g.jsx)(l.xv,{children:(0,g.jsxs)(x,{children:[" ",t," "]})})})}default:return null}};var b=i(59111);let w=`
@media (min-height: 0) {
  .StoryPinText {
    padding: 15px;
  }
  .StoryPinText span {
    font-size: 12px;
  }
  .StoryPinText h2 {
    font-size: 18px;
  }
}

@media (min-height: 600px) {
  .StoryPinText {
    padding: 2.5vh;
  }
  .StoryPinText span {
    font-size: 2vh;
  }
  .StoryPinText h2 {
    font-size: 3vh;
  }
}

@media (min-height: 800px) {
  .StoryPinText {
    padding: 20px;
  }
  .StoryPinText span {
    font-size: 16px;
  }
  .StoryPinText h2 {
    font-size: 24px;
  }
}
`,P=e=>{let{blocks:t,clientTrackingParams:i,pageId:a,pinId:l,onClickThrough:r}=e;return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(b.Z,{unsafeCSS:w}),(0,g.jsx)("div",{className:"StoryPinText",children:t.filter(e=>e).map((e,t)=>(0,g.jsx)(v,{block:e,clientTrackingParams:i,onClickThrough:r,pageId:a,pinId:l},t))})]})};var I=i(690070);let k=o._B*y.ap,S=`
.StoryPinTextDrawer {
  background: #fff;
  border-top-left-radius: 32px;
  border-top-right-radius: 32px;
  bottom: 0;
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;
  box-sizing: border-box;

  height: auto;
  max-height: 15%;
  opacity: 0.625;
  position: absolute;
  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;
  width: 100%;
}

.StoryPinTextDrawer:hover {
  max-height: 70%;
  opacity: 1;
  overflow: scroll;
}
`;function j(e){let t=(0,c.ZP)(),{activePageIndex:i,clientTrackingParams:a,hideText:r,isActive:s,isCoverPage:d,muteVideos:u,onClickThrough:h,page:{image_adjusted:p,image:m,blocks:_,video:f,id:y},pageIndex:x,pageWidth:v,pin:w,pinId:j}=e,{images:A={}}=p||m||{},C=A["750x"],{video_list:T={}}=f||{},E=T.V_HLSV3_MOBILE||T.V_720P;if(!C&&!E)return null;let L=v/o._B;return(0,g.jsxs)(n.Fragment,{children:[!!f&&!!E&&(0,g.jsx)(I.Z,{activePageIndex:i,blockHeight:k*L,blockWidth:o._B*L,isPlaying:s,muted:u,pageIndex:x,pin:w,pinId:j,video:f}),C&&C.url&&!E&&(0,g.jsx)(l.Ee,{alt:function(e){let t="";for(let i of e.blocks??[])[1,0].includes(i.block_type)&&(t=i.text?i.text:"");return t??""}(e.page)||t.bt("Hình ảnh Ghim câu chuyện", "Story pin image", "Alt text for story pin image", undefined, true),fit:d?"cover":"contain",naturalHeight:C.height??1,naturalWidth:C.width??1,src:C.url}),_&&_.length>0&&!r&&(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(b.Z,{unsafeCSS:S}),(0,g.jsx)("div",{className:"StoryPinTextDrawer",children:(0,g.jsx)(P,{blocks:_,clientTrackingParams:a,onClickThrough:h,pageId:y,pinId:j})})]})]})}let A=e=>{let{page:{image_adjusted:t,blocks:i}}=e,{images:a={}}=t||{},r=a["750x"];if(!r)return null;let{width:o,height:s}=r;return(0,g.jsx)(n.Fragment,{children:r&&r.url&&(0,g.jsx)(l.Ee,{alt:(i??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:s??1,naturalWidth:o??1,src:r.url})})};var C=i(295472),T=i(400962),E=i(661376),L=i(702844),Z=i(112658),z=i(15392),M=i(49254);function D({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:l,viewType:r}){let{previous:o,forward:d}=(0,T.Hv)(),c=0===o.length&&0===d.length,u=(0,M.t)();return(0,g.jsx)(L.o,{closeupPaneWidth:z.Gg,headerHeight:u,isLandingPage:c,loadFonts:C.Z,productPins:a,renderStoryPinMediaLayout:({activePageIndex:e,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:o,page:s,pageIndex:d,pageWidth:c,pinId:u})=>(0,g.jsx)(j,{activePageIndex:e,clientTrackingParams:t,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:o,page:s,pageIndex:d,pageWidth:c,pin:n,pinId:u}),renderStoryPinPage:({activePageIndex:e,customEndCard:a,fontsLoaded:o,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:h,onUpdateVideoInfo:p,page:m,pageAspectRatio:_,pageHeight:f,pageWidth:y,ownerId:x,pinId:v,productPins:b,shouldLogTimeSpent:w,stillLoading:P,videoPinProgress:I})=>(0,g.jsx)(s.Z,{activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:a,fontsLoaded:o,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:h,onUpdateVideoInfo:p,ownerId:x,page:m,pageAspectRatio:_,pageHeight:f,pageIndex:e,pageWidth:y,pin:n,pinId:v,productPins:b,shouldLogTimeSpent:w,stillLoading:P,videoPinProgress:I,viewParameter:l,viewType:r}),renderStoryPinSplitLayout:({page:e})=>(0,g.jsx)(A,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:i,pageId:n,pinId:a})=>(0,g.jsx)(P,{blocks:e,clientTrackingParams:t,onClickThrough:i,pageId:n,pinId:a}),children:e})}function R({clientTrackingParams:e,children:t,isInStream:i,viewType:n,viewParameter:a}){return i?t:(0,g.jsx)(Z.Z,{clientTrackingParams:e,component:85,view:n,viewParameter:a,children:t})}function F({children:e,pin:t}){return e({productPins:(0,E.Z)({name:"StoryPinTaggedProductsResource",options:{id:t.id},noCache:!0}).data||[]})}function B({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,isInStream:a=!1,viewType:l,viewParameter:r}){let o=!!n.story_pin_data?.has_product_pins,s=({productPins:a})=>(0,g.jsx)(D,{clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:r,viewType:l,children:e});return(0,g.jsx)(R,{clientTrackingParams:t,isInStream:a,viewParameter:r,viewType:l,children:o?(0,g.jsx)(F,{pin:n,children:s}):s({productPins:[]})})}var O=i(104999),V=i(221175),K=i(470205),W=i(171556),H=i(566431),N=i(382964),G=i(891851),U=i(830031),$=i(852796),X=i(417394),Y=i(23641),J=i(825605),q=i(774838),Q=i(736328);function ee({appConfig:e}){let t=(0,c.ZP)(),i=(0,Q.Z)(),{isRTL:a}=(0,q.B)();return(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!a,paddingX:4,position:"absolute",right:a,top:!0,children:"authDesktop"===e.type&&(0,g.jsx)(l.hU,{accessibilityLabel:t.bt("Nút quay lại", "Back button", "storyPin.closeup.back", undefined, true),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{i({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var et=i(410706),ei=i(639043),en=i(151383),ea=i(450228),el=i(967515),er=i(408640),eo=i(893957),es=i(764682),ed=i(133546),ec=i(63805),eu=i(250704);let eh=(0,n.lazy)(()=>i.e("65443").then(i.bind(i,306639))),ep=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,532074))),eg=(0,n.lazy)(()=>i.e("32560").then(i.bind(i,620623))),em=(0,n.lazy)(()=>Promise.all([i.e("25418"),i.e("89558"),i.e("96415")]).then(i.bind(i,872901))),e_=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,584843))),ef={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},ey={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ex={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ev=[5,6,2];function eb({appConfig:e,clientTrackingParams:t,isInFocus:i,isInStream:a=!1,isStreamMuted:s,isStreamPanelOpen:d=!0,pin:u,storyPinData:h,onIdeaPinCloseupCommentClick:p,setStreamIsMuted:m,streamItemIndex:_,togglePanel:f,variant:x,viewType:v=3,viewParameterType:b,onTogglePanel:w}){let P;let I=(0,L.c)(),{peekCloseupEnabled:k,viewportSize:S}=(0,ed.x4)(),j=(0,c.ZP)(),A=(0,O.Z)(),C=(0,$.g)(),T=(0,U.E)(),{setIdeaPinActivePage:E,setIdeaPinDynamicWidth:Z}=(0,ec.Ut)(),{activePage:z}=(0,ec.H8)(),{clearSeekTime:M}=(0,el.RC)(),{seekTimes:D}=(0,el.Hx)(),{closeupPaneWidth:R,headerHeight:F,isLandingPage:B,renderStoryPinMediaLayout:W,renderStoryPinPage:q,renderStoryPinSplitLayout:Q,renderStoryPinText:eu,productPins:eb}=I||{},{id:ew}=u,eP=D&&D[u.id],eI=!!h?.is_deleted,{pages:ek=[],metadata:eS={}}=h||{},{canvas_aspect_ratio:ej,version:eA}=eS,eC=ej??y.ap,[eT,eE]=(0,n.useState)(0),eL=(0,n.useRef)(0),eZ=(0,n.useRef)(null),[ez,eM]=(0,n.useState)("closeup"===x&&i),[eD,eR]=(0,n.useState)(375),eF="calc(100% - 32px)",eB=(0,n.useRef)(null),[eO,eV]=(0,n.useState)(!1),[eK,eW]=(0,n.useState)(!1),[eH,eN]=(0,n.useState)(!0);(0,n.useEffect)(()=>{w&&w(eH)},[eH,w]),(0,n.useEffect)(()=>{eN(d)},[d]);let{should_mute:eG=!0,music_attributions:eU=[]}=ek[eT],[e$,eX]=(0,n.useState)(B||eG),eY=void 0!==m?m:eX,eJ=void 0!==s?s:e$;(0,n.useEffect)(()=>{eG&&eY(!0)},[eG,eY]);let eq=ek.filter(e=>!ev.includes(e.layout)),eQ=eq.length,e0=eq[eT],e1=b||(0,G.Z)({hasPin:!!u,hasPinRichMetadata:!!u.rich_metadata,hasPinRichMetadataProducts:!!u.rich_metadata?.products,hasPinRichMetadataArticle:!!u.rich_metadata?.article,hasPinRichMetadataRecipe:!!u.rich_metadata?.recipe,hasPinStoryPinData:!!u.story_pin_data}),e3=F+64,{getNormalizedPinImage:e2}=(0,N.Z)({pinKey:{type:"deprecated",data:u},maxWidth:V.Wm}),e6="closeup"===x,e8=()=>{if("undefined"!=typeof window){let e=window.innerWidth-(eH?R:0)-216;if(e6)eR(function({availableWidth:e,pageAspectRatio:t,unavailableHeight:i,windowInnerHeight:n}){let a=n-i,l=Math.min(Math.max(650,Math.min((n-i)*t,e)),1e3);return l/t>=a&&(l=a*t),l}({availableWidth:e,pageAspectRatio:eC,unavailableHeight:e3,windowInnerHeight:window.innerHeight}));else{let{width:e}=e2();eR(e),Z(e)}}};(0,eo.Z)(()=>(window.addEventListener("resize",e8),e8(),()=>{window.removeEventListener("resize",e8)}));let[e7,e5]=(0,n.useState)(!1),[e4,e9]=(0,n.useState)(null),[te,tt]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!te&&i&&(A({event_type:7588,view_type:v,view_parameter:e1,component:13801,object_id_str:ew,aux_data:{..."number"==typeof _?{grid_index:_}:{}}}),tt(!0))},[te,i,A,ew,v,e1,_]);let ti=(0,n.useCallback)(e=>{let{blocks:t}=ek[e]||{},n=t?.find(e=>3===e.block_type);eB.current&&eB.current instanceof er.B7&&(eB.current.clear(),eB.current=null),!n&&i&&(eB.current=new er.B7(e=>{e9({currentTime:e<1?e:1,duration:1})},()=>{let t="closeup"===x?e:z;t<eQ-1?(eB.current&&eB.current instanceof er.B7&&(eB.current.clear(),eB.current=null),tr(t+1)):(eV(!0),eM(!1))},H.oN))},[i,eQ,ek,z,x]),tn=e=>{e9({currentTime:0,duration:1}),ti(e)};(0,n.useEffect)(()=>{eL.current=eT},[eT]),(0,n.useEffect)(()=>{eZ.current=ez},[ez]),(0,eo.Z)(()=>(tn(eT),()=>{eB.current&&eB.current instanceof er.B7&&eZ.current&&eB.current.clear()}));let ta=()=>{T&&(T.addBinaryAnnotation("page.current.index",eT,"I16"),T.addBinaryAnnotation("page.count",ek.length,"I16"),T.addBinaryAnnotation("view.type",v,"I32"),T.addBinaryAnnotation("view.parameter",e1,"I32")),(0,Y.rt)("page.current.index",eT,"I16"),(0,Y.rt)("page.count",ek.length,"I16"),(0,Y.rt)("view.type",v,"I32"),(0,Y.rt)("view.parameter",e1,"I32")},tl=e=>{T&&(T.abort("startNewPwt"),(0,X.JG)("startStoryPinStepPwt")),C&&(C.abort("startNewPwt"),C.start(),C.addBinaryAnnotation("page.current.index",e,"I16"),C.addBinaryAnnotation("page.count",ek.length,"I16"),C.addBinaryAnnotation("view.type",v,"I32"),C.addBinaryAnnotation("view.parameter",e1,"I32"))};(0,eo.Z)(()=>{ta()});let tr=e=>{ez||eM(!0),eO&&eV(!1),tn(e),e!==eT&&M(),eE(e),E(e),tl(e)};(0,n.useEffect)(()=>{if(eO&&eV(!1),eB.current&&eP){let e=eB.current;e.pause(),e.remaining=H.oN-eP*es.gJ,e9({currentTime:eP/H.P6,duration:1})}},[eP]),(0,n.useEffect)(()=>{E(z)},[E,z]),(0,n.useEffect)(()=>{"related-products"===x&&(eE(z),tr(z))},[z,x]);let to=()=>eO?13799:0===eT?227:228,ts=()=>{eT<eQ-1&&(tr(eT+1),A({event_type:101,view_type:v,view_parameter:e1,component:to(),element:12261,object_id_str:ew}))},td=()=>{eT===eQ-1&&eO?(tr(eT),A({event_type:101,view_type:v,view_parameter:e1,component:to(),element:12260,object_id_str:ew})):eT>0&&(tr(eT-1),A({event_type:101,view_type:v,view_parameter:e1,component:to(),element:12260,object_id_str:ew}))},tc=e=>{let{keyCode:t}=e,{srcElement:i}=e,n=i.isContentEditable||i.contentEditable&&"true"===i.contentEditable;37!==t||n?39!==t||n||ts():td()};(0,n.useEffect)(()=>(document.addEventListener("keydown",tc),()=>document.removeEventListener("keydown",tc)),[eT]);let{fontsLoaded:tu,mediaDataReceived:th}=(0,ea.tq)({hasPin:!!u,pages:ek}),tp=eA?(0,er.n4)(eA,"0.8.0"):null,tg=null!=tp&&tp>=0,tm=t=>{let i=0===t.layout;switch(t.layout){case 0:case 1:return W({activePageIndex:eT,hideText:i,isActive:!0,isCoverPage:i,muteVideos:eJ,onClickThrough:e.onClickThrough,page:t,pageIndex:eT,pageWidth:eD,pinId:ew});case 4:return t.blocks.length>0&&eu({blocks:t.blocks,pageId:`text-${eT}`,page:t,pinId:ew,onClickThrough:e.onClickThrough});case 3:return Q({page:t});default:return null}},t_=e=>{e===eQ-1&&(eV(!0),eM(!1),E(0)),e===eT&&ts()},tf=e=>{e9({currentTime:e?.currentTime??0,duration:e?.duration??1})},ty=()=>{eW(!0),eM(!1),eB.current&&!eB.current.paused&&eB.current.pause()},tx=e=>ek[e]?tg?q({activePageIndex:eT,fontsLoaded:tu,customEndCard:!0,isActive:e===eT&&ez,muteVideos:eJ,onChangeMuteVideo:eY,onEnded:t_,onFlyoutOpen:ty,videoPinProgress:eT===e?e4:void 0,onUpdateVideoInfo:tf,ownerId:u.native_creator?.id??"",page:ek[e],pageAspectRatio:eC,pageIndex:e,pageHeight:eD/eC,pageWidth:eD,pinId:u.id,productPins:eb,shouldLogTimeSpent:i,stillLoading:!th}):tm(e0):null,tv=()=>{eM(!1),eB.current&&eB.current.pause(),A({event_type:9324,view_type:v,view_parameter:e1,component:to(),object_id_str:ew,aux_data:{story_pin_page_id:eT}})},tb=()=>{if(eM(!0),eB.current){let e=eB.current;eP&&eP>0&&M(),e.resume()}else e4||tn(eT);A({event_type:9323,view_type:v,view_parameter:e1,component:to(),object_id_str:ew,aux_data:{story_pin_page_id:eT}})},tw=()=>{eO||(eW(!1),ez?tv():tb())};(0,n.useEffect)(()=>{"closeup"===x&&(!i||eO||ez?!i&&ez&&tv():tb())},[i,x]),(0,n.useEffect)(()=>{"related-products"===x&&tv()},[]);let tP=()=>{tr(0)},tI=()=>{a&&f?f():eN(!0)},{fiftyPercentWidth:tk,fiftyPercentHeight:tS}=(0,o.Re)(64),{maxHeight:tj}=(0,o.Re)(0,32),{fiftyPercentWidth:tA}=(0,o.Re)();return k&&(P="sm"===S?tS:tj),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e6?{top:F,height:`calc(100vh - ${F}px)`,position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:k?P:void 0,zIndex:eH?"auto":3}:{}},display:"flex",left:!0,children:[(0,g.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:k&&"sm"!==S?tA:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[e6&&(0,g.jsx)(l.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eI?(0,g.jsx)(ei.Z,{height:eD/y.ap,rounding:y.yR,width:eD}):(0,g.jsxs)(n.Fragment,{children:[th&&(0,g.jsx)(l.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let t=1;t<=ek.length;t+=1)eT+t<ek.length&&e.push(tx(eT+t));return e})()}),(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:e6?void 0:`${y.YL}px`}},display:"flex",onMouseLeave:()=>{e5(!1)},onMouseOver:()=>e5(!0),position:"relative",children:(0,g.jsxs)(l.xu,{paddingX:4,children:[(0,g.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...ey,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:eF,zIndex:y.Gf,children:(0,g.jsx)(en.Z,{activePageIndex:eT,handleMute:()=>{eG||eY(!eJ)},handlePanelChange:()=>{eN(!eH)},handlePause:tv,handlePausePlay:tw,handlePlay:tb,handleVideoScrubbingNewPage:e=>{eO&&eV(!1),tn(e),eE(e),E(e),tl(e)},handleWatchAgain:tP,inMilliseconds:!0,isMuted:eJ,isPanelOpen:eH,isPlaying:ez,onPageSelect:e=>tr(e),pageCount:eQ,pages:eq,pinId:u.id,progressInfo:e4,showEndCard:eO,showVideoControls:e7,viewParameter:e1})}),(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eH?ex:{paddingLeft:"26px",bottom:0},marginBottom:eH?void 0:"88px",maxWidth:tk}},"data-test-id":"music-attribution",display:"flex",justifyContent:eH?"center":"start",overflow:"hidden",paddingY:eH?5:void 0,position:"absolute",width:eD,zIndex:y.Gf,children:(0,g.jsx)(r.Z,{handlePause:tv,handlePlay:tb,musicAttributions:eU,shouldMute:eG,showEndCard:eO})}),!eO&&!eH&&(0,g.jsxs)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:eH?{}:ef},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:eF,zIndex:y.Gf,children:[(0,g.jsxs)(l.kC,{alignItems:"stretch",direction:"row",children:[!eH&&(0,g.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,g.jsx)(J.Z,{children:(0,g.jsx)(e_,{imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id})})}),!eH&&u.is_eligible_for_aggregated_comments&&(0,g.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,g.jsx)(J.Z,{children:(0,g.jsx)(eh,{onCommentClick:()=>{A({event_type:101,view_type:v,view_parameter:e1,component:13801,element:10944,object_id_str:u.id}),tI(),p&&p();let e=document.getElementById(`canonical-card-${u.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eH&&(0,g.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,g.jsx)(J.Z,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,g.jsx)(em,{clientTrackingParams:t,component:13801,iconColor:"white",pinId:u.id,reactionByMe:u.reaction_by_me,showTooltip:!0,viewParameter:e1,viewType:v})})})})]}),!eH&&(0,g.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,g.jsx)(J.Z,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,g.jsx)(eg,{clientTrackingParams:t,isCloseupPin:!0,onClickCallback:()=>{A({event_type:101,view_type:v,view_parameter:e1,component:13801,element:0,object_id_str:u.id})},pinKey:{type:"deprecated",data:u},size:"lg"})})})})]}),(0,g.jsx)(l.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,g.jsx)(l.iP,{accessibilityLabel:ez?j.bt("Tạm dừng", "Pause", "storyPin.closeup.pauseButton.accessibilityLabel", undefined, true):j.bt("Phát", "Play", "storyPin.closeup.playButton.accessibilityLabel", undefined, true),disabled:eO,onTap:tw,rounding:y.yR,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{maxWidth:tk,maxHeight:P}},"data-test-id":"story-pin-closeup-page",height:eD/eC,overflow:"hidden",position:"relative",rounding:y.yR,width:eD,children:[tx(eT),!eO&&!eK&&!eP&&(0,g.jsx)(et.Z,{playing:ez}),"authDesktop"===e.type&&eO&&u.native_creator&&(0,g.jsx)(K.Z,{name:"IdeaPinCloseup_EndCard",children:(0,g.jsx)(J.Z,{children:(0,g.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:y.yR,top:!0,zIndex:y.s5,children:(0,g.jsx)(ep,{clientTrackingParams:u.trackingParams||u.tracking_params,imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id,watchAgain:tP})})})})]})})})]})})]}),!a&&e6&&(0,g.jsx)(ee,{appConfig:e})]}),eH&&e6&&(0,g.jsx)(l.xu,{flex:"none",height:"100%",position:"relative",width:R,children:"duplo"===e.type&&e.storyPinDetails})]})}function ew(e){let{pin:t,viewType:i=3,viewParameterType:r}=e,[o,s]=(0,n.useState)({isInFocus:!0,viewability:0}),{isInFocus:d,viewability:c}=o,u=r||(0,G.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),h=(0,a.TH)(),p=e.clientTrackingParams||(0,eu.Z)((h?.state||{}).trackingParams,t.trackingParams||t.tracking_params);return(0,g.jsx)($.T,{children:(0,g.jsx)(W.Z,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:t}=e[0];s({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:n=>(0,g.jsx)(l.xu,{ref:n,children:(0,g.jsx)(B,{clientTrackingParams:p,closeupStoryPinViewability:c,pin:t,viewParameter:u,viewType:i,children:d?(0,g.jsx)(Z.Z,{clientTrackingParams:p,component:13801,objectId:t.id,view:i,viewParameter:u,children:(0,g.jsx)(eb,{...e,isInFocus:d})}):(0,g.jsx)(eb,{...e,isInFocus:d})})})})})}},639043:function(e,t,i){"use strict";i.d(t,{Z:()=>r});var n=i(883119),a=i(138596),l=i(785893);function r({height:e,isDenseView:t,rounding:i,width:r,color:o}){let s=(0,a.ZP)();return(0,l.jsx)(n.xu,{alignItems:"center",color:o||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:i,width:r,children:(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(n.xu,{paddingY:t?2:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:s.bt("Ghim không có sẵn", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,l.jsx)(n.xv,{weight:"bold",children:s.bt("Không có sẵn", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!t&&(0,l.jsx)(n.xu,{paddingY:1,children:(0,l.jsx)(n.xv,{children:s.bt("Người tạo đã xóa Ghim", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},967515:function(e,t,i){"use strict";i.d(t,{RC:()=>h,Wr:()=>u,Hx:()=>p});var n=i(667294),a=i(213491),l=i(27277),r=i(17658),o=i(785893);let s=()=>Promise.resolve().then(i.bind(i,27277)),{Provider:d,useHook:c}=(0,a.Z)("IdeaPinVideoPlayer");function u({children:e}){let[t,i]=(0,r.Z)(s,l.initialState),a=(0,n.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,o.jsx)(d,{value:a,children:e})}function h(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function p(){let{ideaPinVideoPlayerControls:e}=c();return e}},27277:function(e,t,i){"use strict";i.r(t),i.d(t,{default:()=>a,initialState:()=>n});let n={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},702844:function(e,t,i){"use strict";i.d(t,{c:()=>o,o:()=>r});var n=i(667294),a=i(785893);let l=(0,n.createContext)(null);function r({children:e,closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:s,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h}){let p=(0,n.useMemo)(()=>({closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:s,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h}),[t,i,r,o,s,d,c,u,h]);return(0,a.jsx)(l.Provider,{value:p,children:e})}let o=()=>(0,n.useContext)(l)},176783:function(e,t,i){"use strict";i.d(t,{Cc:()=>p,DL:()=>d,Gf:()=>_,LX:()=>a,Lc:()=>f,Ls:()=>g,Rf:()=>s,YL:()=>o,ap:()=>l,h8:()=>u,pE:()=>c,s5:()=>m,tQ:()=>h,yR:()=>r});var n=i(883119);let a={w:9,h:16},l=a.w/a.h,r=8,o=10,s=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},h=[u.IMAGE,u.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},g=new n.Ry(1),m=new n.H3([g]),_=new n.H3([m]),f=e=>{let t=Math.floor(e||0),i=Math.floor(t/60),n=t-60*i,a=i<10?`${i}`:i,l=n<10?`0${n}`:n;return`${a}:${l}`}},631796:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(288692);function l(e){let[t,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async function(){i(await (0,a.Z)(e))})()},[e]),t}},573375:function(e,t,i){"use strict";i.d(t,{Z:()=>r});var n=i(883119),a=i(293646),l=i(785893);function r({onVisibilityChanged:e,children:t,...i}){let r=(0,a.Z)({onVisibilityChanged:e,...i});return(0,l.jsx)(n.xu,{ref:r,children:t})}},831667:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(4533);let a=(0,i(34550).M0)(),l="undefined"!=typeof window&&(a.getItem(n._e)??1)===0},919917:function(e,t,i){"use strict";function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return a[e]&&a[e].currentTime}i.d(t,{Z:()=>n})},478428:function(e,t,i){"use strict";function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return!!a[e]&&!a[e].paused}i.d(t,{Z:()=>n})},619784:function(e,t,i){"use strict";i.d(t,{Z:()=>a});var n=i(371266);function a({cropArea:e,cropSource:t,isProductPage:i,pinId:a,requestParams:l,searchQuery:r,surfaceType:o,title:s,trafficSource:d}){let c=(0,n.Z)({cropArea:e,cropSource:t,requestParams:l,searchQuery:r,surfaceType:o,title:s,trafficSource:d}),u="";return i&&(u="products/"),`/pin/${a}/visual-search/${u}${c}`}},51372:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(883119),a=i(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:i,showNavigationIcon:l,text:r,backgroundColor:o="lightGray"}){return(0,a.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(n.xu,{"data-test-id":"ad-reason-icon",children:(0,a.jsx)(n.Sj,{accessibilityLabel:e,bgColor:o,icon:t,iconColor:"darkGray"})}),(0,a.jsx)(n.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(n.xv,{children:r})}),l&&i&&(0,a.jsx)(n.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(n.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}},120399:function(e,t,i){"use strict";i.d(t,{DK:()=>u,K1:()=>o,Xv:()=>h,nn:()=>d,we:()=>c,zn:()=>s});let n=e=>e.bt("Nữ", "Female", "waista.modal.attribute.female", undefined, true),a=e=>e.bt("Nam", "Male", "waista.modal.attribute.male", undefined, true),l=e=>e.bt("Web", "Web", "waista.modal.attribute.web", undefined, true),r=e=>e.bt("Web di động", "Mobile Web", "waista.modal.attribute.mWeb", undefined, true);function o(e,t){let{name:i=""}=e.find(e=>e.key===t)??{};return i}function s(e,t){return"FEMALE"===e?n(t):"MALE"===e?a(t):""}function d(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?l(t):"AppType_WEB_MOBILE"===e?r(t):""}function c(e,t){let{name:i=""}=e.find(e=>e.key===t)??{};return i}function u(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]||"string"==typeof e[t]).filter(t=>!1!==e[t]&&""!==e[t]).slice(0,t).reduce((t,i)=>({...t,[i]:e[i]}),{})}function h(e){let t={},i=e.isFirstPartyAdPersonalizationEnabled,n=e.isThirdPartyAdPersonalizationEnabled;return i||(t.isPinterestContent=!0),(i||n)&&(e?.isVisitorMatched||e?.isShoppingRetargetingMatched||e?.isShoppingProspectingMatched||e?.isExpandTargetingMatched||e?.isPlPersonaMatched)&&(t.isMatchedActivities=!0),e?.matchedKeyword&&(t.isMatchedKeyword=!0),e?.matchedAgeBucket&&(t.isMatchedAge=!0),e?.matchedGender&&(t.isMatchedGender=!0),e?.geoRegion&&(t.isMatchedGeoRegion=!0),i&&e?.geoPostalCode&&(t.isMatchedGeoPostalCode=!0),e?.matchedLocale&&(t.isMatchedLocale=!0),e?.matchedDevice&&(t.isMatchedDevice=!0),i&&e?.isEngagementMatched&&(t.isEngagementMatched=!0),i&&e?.isActalikeMatched&&(t.isMatchedActAlike=!0),i&&e?.isFromGpsLocation&&(t.isMatchedGpsLocation=!0),i&&e?.isCustomerListMatched&&(t.isMatchedCustomerList=!0),t}},63805:function(e,t,i){"use strict";i.d(t,{H8:()=>p,Ut:()=>h,fr:()=>u});var n=i(667294),a=i(213491),l=i(17658),r=i(553734),o=i(785893);let s=()=>i.e("38938").then(i.bind(i,835802)),{Provider:d,useHook:c}=(0,a.Z)("IdeaPin");function u({children:e}){let[t,i]=(0,l.Z)(s,r.Z),a=(0,n.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,o.jsx)(d,{value:a,children:e})}function h(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function p(){let{ideaPin:e}=c();return e}},553734:function(e,t,i){"use strict";i.d(t,{Z:()=>n});let n={activePage:0,dynamicWidth:0}},11338:function(e,t,i){"use strict";i.d(t,{Z:()=>m,s:()=>g});var n=i(667294),a=i(883119),l=i(138596),r=i(216975),o=i(774838),s=i(661376),d=i(462867),c=i(51372),u=i(120399),h=i(157498),p=i(785893);let g={DIGITAL_CAPTURE:0,NEGATIVE_FILM:1,POSITIVE_FILM:2,PRINT:3,MINOR_HUMAN_EDITS:4,COMPOSITE_CAPTURE:5,ALGORITHMICALLY_ENHANCED:6,DATA_DRIVEN_MEDIA:7,DIGITAL_ART:8,VIRTUAL_RECORDING:9,COMPOSITE_SYNTHETIC:10,TRAINED_ALGORITHMIC_MEDIA:11,COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA:12,ALGORITHMIC_MEDIA:13,SOFTWARE_IMAGE:14,MULTI_PIN_TRAINED_ALGORITHMIC_MEDIA:15,DETECTED_TRAINED_ALGORITHMIC_MEDIA:16};function m({promoterFullName:e,geoRegionAttribute:t,geoPostalCodeAttribute:i,isCustomerListMatched:g,isActalikeMatched:m,isEngagementMatched:_,isFromGPSLocation:f,matchedAgeBucket:y,matchedGender:x,matchedLocale:v,matchedDevice:b,matchedKeyword:w,isFirstPartyAdPersonalizationEnabled:P,isThirdPartyAdPersonalizationEnabled:I}){let k=(0,l.ZP)(),{id:S}=(0,d.Z)(),j=(0,h.mN)()(S??""),A=j?.gender??"",C=(0,u.zn)(x,k);C="unspecified"===A?"":C;let T=(0,u.nn)(b,k),{locale:E}=(0,o.B)(),L=(0,s.Z)({name:"LocalesResource"}),{country:Z=""}=(0,d.Z)(),z=(0,s.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),M=(0,u.K1)(z.data??[],Z),D=""!==y||""!==x&&"unspecified"!==A||!P&&""!==M||""!==T||""!==v||P&&_||P&&m||""!==t||P&&""!==i;return(0,p.jsx)(a.xu,{"data-test-id":"waista",children:(0,p.jsxs)(a.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[!P&&(0,p.jsx)(c.Z,{icon:"pinterest",iconAccessibilityLabel:k.bt("Biểu tượng cho bối cảnh nhắm mục tiêu quảng cáo", "Icon for ad targeting context", "waista.modal.criteria.list.contexticon", undefined, true),text:(0,r.XB)({text:k.bt("Dựa trên bối cảnh của nội dung bạn thấy trong một phiên <strong id=\"1\">trên Pinterest</strong>", "Based on the context of the content you see in a session <strong id=\"1\">on Pinterest</strong>", "waista.modal.criteria.list.context", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})}),""!==w&&(0,p.jsx)(c.Z,{icon:"search",iconAccessibilityLabel:k.bt("Biểu tượng cho tìm kiếm từ khóa nhắm mục tiêu quảng cáo", "Icon for ad targeting keyword search", "waista.modal.criteria.list.keywordSearchIcon", undefined, true),text:(0,r.XB)({text:k.bt("Vì bạn đã tìm kiếm <strong id=\"1\">{{ keyword }}</strong>", "Because you searched for <strong id=\"1\">{{ keyword }}</strong>", "waista.modal.criteria.list.keywordSearch", undefined, true),markers:{keyword:w??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-keyword-bucket")}})}),(P||I)&&(0,p.jsx)(c.Z,{icon:"cog",iconAccessibilityLabel:k.bt("Biểu tượng cho cài đặt người dùng nhắm mục tiêu quảng cáo", "Icon for ad targeting user settings", "waista.modal.criteria.list.settings", undefined, true),text:k.bt("Tùy thuộc vào cài đặt quyền riêng tư của bạn, vì các hoạt động của bạn trên và/hoặc ngoài Pinterest", "Depending on your privacy settings, because of your activities on and/or off Pinterest", "waista.modal.criteria.list.settings", undefined, true)}),D&&(0,p.jsx)(c.Z,{icon:"person",iconAccessibilityLabel:k.bt("Biểu tượng cho tên nhà quảng cáo nhắm mục tiêu quảng cáo", "Icon for ad targeting advertiser name", "waista.modal.criteria.list.advertiserName", undefined, true),text:(0,r.XB)({text:k.bt("Vì <strong id=\"1\">{{ advertiserName }}</strong> đang cố gắng tiếp cận mọi người:", "Because <strong id=\"1\">{{ advertiserName }}</strong> is trying to reach people:", "waista.modal.criteria.list.advertiserName", undefined, true),markers:{advertiserName:e},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-advertiserName-bucket")}})}),(0,p.jsx)(a.xu,{marginStart:8,children:(0,p.jsxs)(a.aV,{label:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Vì {{ advertiserName }} đang cố gắng tiếp cận mọi người:", "Because {{ advertiserName }} is trying to reach people:", "waista.modal.criteria.list.advertiserName", undefined, true),markers:{advertiserName:e}})}),labelDisplay:"hidden",type:"unordered",children:[""!==y&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Những người đã đặt tuổi trong phạm vi tuổi <strong id=\"1\">{{ ageBucketMatch }}</strong>", "Who have set their age within the <strong id=\"1\">{{ ageBucketMatch }}</strong> age range", "waista.modal.criteria.list.ageBucketRangeMatch", undefined, true),markers:{ageBucketMatch:y??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-age-bucket")}})})}),!P&&""!==v&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Những người đã đặt ngôn ngữ của mình thành <strong id=\"1\">{{ language }}</strong>", "Who have set their language to <strong id=\"1\">{{ language }}</strong>", "waista.modal.criteria.list.languageMatch", undefined, true),markers:{language:(0,u.we)(L.data??[],E)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})}),(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Những người đã đặt ngôn ngữ của mình thành <strong id=\"1\">{{ language }}</strong>", "Who have set their language to <strong id=\"1\">{{ language }}</strong>", "waista.modal.criteria.list.languageMatch", undefined, true),markers:{language:(0,u.we)(L.data??[],E)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})})]}),P&&""!==v&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Ngôn ngữ chính là <strong id=\"1\">{{ language }}</strong>", "Primary language is <strong id=\"1\">{{ language }}</strong>", "waista.modal.criteria.list.primarylLanguageMatch", undefined, true),markers:{language:(0,u.we)(L.data??[],E)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})}),!P&&""!==x&&""!==C&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Những người đã đặt giới tính của mình thành <strong id=\"1\">{{ gender }}</strong>", "Who have set their gender to <strong id=\"1\">{{ gender }}</strong>", "waista.modal.criteria.list.setGenderMatch", undefined, true),markers:{gender:C},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-gender")}})})}),P&&""!==x&&""!==C&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:C})}),""!==T&&(0,p.jsx)(a.aV.Item,{text:k.bt("Với loại thiết bị của bạn", "With your device type", "waista.modal.criteria.list.deviceMatch", undefined, true)}),!P&&""!==t&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Tại <strong id=\"1\">{{ country }}</strong>", "In <strong id=\"1\">{{ country }}</strong>", "waista.modal.criteria.list.countryMatch", undefined, true),markers:{country:Z},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-country")}})})}),P&&""!==t&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Dựa trên <strong id=\"1\">{{ geoRegion }}</strong>", "Based in <strong id=\"1\">{{ geoRegion }}</strong>", "waista.modal.criteria.list.geoRegionMatch", undefined, true),markers:{geoRegion:t??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-geoRegion")}})})}),P&&""!==i&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Dựa trên <strong id=\"1\">{{ geoPostalCodeAttribute }}</strong>", "Based in <strong id=\"1\">{{ geoPostalCodeAttribute }}</strong>", "waista.modal.criteria.list.geoPostalCodeAttributeMatch", undefined, true),markers:{geoPostalCodeAttribute:i??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-geoPostalCodeAttribute")}})})}),P&&_&&(0,p.jsx)(a.aV.Item,{text:k.bt("Những người đã tương tác với nội dung của họ trên Pinterest", "Who have interacted with their content on Pinterest", "waista.modal.criteria.list.engagementMatch", undefined, true)}),P&&m&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,r.XB)({text:k.bt("Với thông tin nhân khẩu học hoặc sở thích tương tự như những khách hàng <strong id=\"1\">{{ brandName }}</strong> khác", "With similar demographic or interests as other <strong id=\"1\">{{ brandName }}</strong> customers", "waista.modal.criteria.list.actAlikeMatch", undefined, true),markers:{brandName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-act-alike")}})})})]})}),P&&g&&(0,p.jsx)(c.Z,{icon:"menu",iconAccessibilityLabel:k.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng thuộc một danh sách đối tượng", "Icon for ad targeting user on an audience list", "waista.modal.criteria.list.listIcon", undefined, true),text:(0,r.XB)({text:k.bt("Vì bạn nằm trong danh sách được <strong id=\"1\">{{ brandName }}</strong> cung cấp", "Because you are on a list provided by <strong id=\"1\">{{ brandName }}</strong>", "waista.modal.criteria.list.onCustomerListTargeting", undefined, true),markers:{brandName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-customer-list")}})}),P&&f&&(0,p.jsx)(c.Z,{icon:"location",iconAccessibilityLabel:k.bt("Biểu tượng cho quảng cáo nhắm mục tiêu người dùng theo GPS", "Icon for ad targeting user on GPS", "waista.modal.criteria.list.GPS", undefined, true),text:k.bt("Vì vị trí GPS của bạn", "Because of your GPS Location", "waista.modal.criteria.list.GPSLocation", undefined, true)})]})})}},683372:function(e,t,i){"use strict";i.d(t,{C:()=>n,_:()=>r});let n=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),a=({pathname:e})=>/^\/search\/pins\//.test(e),l=({pathname:e,search:t})=>{let i=/^\/search\/pins\/(\?.*)$/.exec(e),n=(t||i&&i[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return n?decodeURIComponent(n[1]):""},r=e=>{let t=[...e].reverse().find(({location:e})=>e&&!n(e));return t&&t.location&&a(t.location)?l(t.location):""}},918617:function(e,t,i){"use strict";i.d(t,{Z:()=>d});var n=i(883119),a=i(774838),l=i(398542),r=i(15392),o=i(133546),s=i(785893);function d({children:e,isVideo:t=!1,isWideVideo:i,shouldPadImage:d,styleOverrides:c={},variant:u}){let{showCloseupContentRight:h,viewportSize:p,paneWidth:g,closeupWithinMasonryEnabled:m,peekCloseupEnabled:_}=(0,o.x4)(),f=(0,a.B)(),y="default"===u;if(!(!m&&(h&&"lg"===p||y||i)))return(0,s.jsx)(n.xu,{children:e});let{borderStyle:x}=(0,l.Z)({isSideBySide:h&&!i,isPadded:d,isRTL:f.isRTL,closeupWithinMasonryEnabled:m,peekCloseupEnabled:_}),v=i?r.KP:g,b=i?r.KP:496,w=c.height?.height||"100%",P=c.maxWidth?.maxWidth||v,I=c.minWidth?.minWidth||g;return(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:m?void 0:c.borderRadius||x.borderRadius,...d&&t?{overflow:"hidden"}:{}}},display:y?"flex":void 0,flex:y&&i?"grow":void 0,height:y?w:void 0,justifyContent:y?"center":void 0,marginBottom:y?void 0:6,marginEnd:y?void 0:i?0:6,maxWidth:y?P:b,minWidth:y?I:344,rounding:y?void 0:2,children:e})}},546151:function(e,t,i){"use strict";i.d(t,{AH:()=>d,CK:()=>s,Fc:()=>r,Wj:()=>l,Xe:()=>a,kb:()=>o,zX:()=>c});var n=i(11338);function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:i,pinDomain:n,sourceUserUsername:a,sourceUserFullName:l}){return!t&&(e||i)&&a?{pinCreditLink:`/${a}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!t&&e?n:""}}let l=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:i,hasRichMetadataRecipeCategorizedIngredients:n,hasRichMetadataTutorial:a,richMetadataRecipeFromAggregatedData:l})=>(!t||l)&&e.bt("Đã lưu bởi ", "Saved by ", "Closeup pin annotation", undefined, true)||a&&e.bt("Đã lưu từ ", "Saved from ", "pin annotation", undefined, true)||n&&e.bt("Món ngon từ ", "Recipe from ", "pin annotation", undefined, true)||i&&e.bt("Bài viết từ ", "Article from ", "pin annotation", undefined, true)||e.bt("Từ ", "From ", "Closeup pin annotation", undefined, true);function r({i18n:e,hasRichMetadataProductOfferSummary:t,richMetadataProductName:i,richSummaryProductName:n,hasRichSummaryProductOfferSummary:a}){return t&&i||!t&&n&&a?e.bt("Sản phẩm được bán bởi ", "Product sold by ", "pin annotation", undefined, true):""}let o=({hasLinkDomain:e,richMetadata:t,richSummary:i})=>e&&!t?.recipe?.fromAggregatedData&&t?.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:i?.products&&i.products[0]&&i.products[0].name&&i.products[0].offerSummary?i.products[0].offerSummary:void 0,s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>e?t?144:i?141:n?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com"),c=e=>!!e&&[n.s.TRAINED_ALGORITHMIC_MEDIA,n.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA,n.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA].includes(e)},542515:function(e,t,i){"use strict";i.d(t,{Z:()=>a});var n=i(667294);function a(e,t){(0,n.useEffect)(()=>{if(!t.current)return()=>{};{let i=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&e(i)});return t.observe(i),()=>t.unobserve(i)}{let t=i.clientHeight,n=i.clientWidth,a=()=>{let l=i.clientHeight,r=i.clientWidth;(t!==l||n!==r)&&(t=l,n=r,e(i)),window.requestAnimationFrame(a)};return a(),()=>window.cancelAnimationFrame(a)}}},[t,e])}},279394:function(e,t,i){"use strict";function n(e){let t=[],i="";for(let n of e)if(i){let e=!!n.match(/\s/),a=!!i.match(/\s/);if(e===a)i+=n;else if(!a&&i.includes("-")){let e=0;for(let n=0;n<i.length;n+=1)"-"===i[n]&&(t.push(i.substring(e,n+1)),e=n+1);t.push(i.substring(e)),i=n}else t.push(i),i=n}else i=n;return i.length&&t.push(i),t}function a({boxHeight:e,boxWidth:t,font:i,startFontSize:a,text:l}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,o=document.createElement("div");r.appendChild(o);let s=l?.split(/\r?\n/g),d=a,c={letterSpacing:i.fontOverrides?.letterSpacing!=null?`${i.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(i.fontOverrides?.lineHeight||1.1),fontFamily:i.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(o.style,c);let u=document.createElement("div");for(u.style.display="inline",o.appendChild(u),(s??[]).forEach((e,t)=>{let i=document.createElement("span");i.style.wordBreak="break-word",u.appendChild(i),i.appendChild(document.createTextNode(e)),t!==(l??"").length-1&&i.appendChild(document.createElement("br"))});(u.offsetHeight>e||u.offsetWidth>t)&&d>0;)d-=1,o.style.fontSize=`${d}px`;return u.remove(),o.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:t,textList:i,width:a}){if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];let{body:l}=document,r=document.createElement("div");l.appendChild(r);let o={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(r.style,o);let s=document.createElement("div");s.style.display="inline",r.appendChild(s);let d=document.createTextNode("");s.appendChild(d);let c=[],u="",h=e=>{let t=e.trim();return d.textContent=t,{text:t,width:s.offsetWidth}},p=e=>{let t=!!e.match(/\s/),i=0===u.length;if(d.textContent=`${u}${e}`,s.offsetWidth>a){if(t)c.push(h(u)),u="";else if(i)for(let t of e)p(t);else c.push(h(u)),u="",p(e)}else u+=e};for(let e of i??[])0===e.length&&c.push(h(u)),n(e).forEach(e=>p(e)),u.length&&(c.push(h(u)),u="");return s.remove(),r.remove(),c}({font:i,fontSize:d,textList:s,width:t}):[]}}function l(e){let t=window.getComputedStyle(e,null),i=parseFloat(t.getPropertyValue("height").replace("px","")),n=parseFloat(t.getPropertyValue("font-size").replace("px","")),a=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(a)&&(a=1.2*n),Math.ceil(i/a)}i.d(t,{KV:()=>a,Yd:()=>n,xW:()=>l})},542392:function(e,t,i){"use strict";i.d(t,{Af:()=>c,Ei:()=>s,II:()=>x,Lh:()=>m,U:()=>p,Zy:()=>o,dD:()=>l,er:()=>g,hb:()=>f,in:()=>d,j7:()=>_,kX:()=>u,mx:()=>y,n5:()=>r,q8:()=>h,xH:()=>a});var n=i(176783);let a=1048576,l=3,r=20,o=3,s=10,d=50,c=10,u=1200,h=375,p=375/n.ap,g=4096,m="#FFFFFF",_={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},f=420,y=325,x=768},317083:function(e,t,i){"use strict";i.d(t,{Ul:()=>l,VS:()=>n,hy:()=>r,iM:()=>a,j4:()=>o});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},r=128,o=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},758594:function(e,t,i){"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(721750);function l({children:e,metricName:t}){return(0,n.useContext)(a.Z),e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/30511.vi_VN-844c32817d1425ab.mjs.map